/* surveyJS Lite v3.0.0 | Valerio Di Punzio (@SimplySayHi) | https://www.valeriodipunzio.com/plugins/surveyJS/ | https://github.com/SimplySayHi/surveyJS | MIT license */
System.register([],(function(e){"use strict";return{execute:function(){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function s(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,r,t){return r&&s(e.prototype,r),t&&s(e,t),e}var n="3.0.0",o=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.headers=new Headers(t.headers),t.timeout>0){var s=new AbortController,a=s.signal;t.signal=a,e=window.setTimeout((function(){s.abort()}),t.timeout)}return fetch(r,t).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return Promise.reject(e)})).finally((function(){e&&window.clearTimeout(e)}))},i=function(e){return Element.prototype.isPrototypeOf(e)},l=function(e){var t=r(e),s="string"===t&&i(document.querySelector(e))&&"form"===document.querySelector(e).tagName.toLowerCase();return{result:i(e)||s,element:"string"===t?document.querySelector(e):e}},c={init:"sjs:init"},u=function e(t){return Object.getOwnPropertyNames(t).forEach((function(s){var a=t[s];"object"===r(a)&&null!==a&&e(a)})),Object.freeze(t)},d=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.from(arguments).slice(1).filter((function(e){return!!e})).forEach((function(t){Object.keys(t).forEach((function(s){Array.isArray(t[s])?r[s]=(r[s]||[]).concat(t[s].slice(0)):d(t[s])?r[s]=e(r[s]||{},t[s]):Array.isArray(r[s])?r[s].push(t[s]):r[s]=t[s]}))})),r},f=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s=p({},{bubbles:!0},s);var a=new Event(r,s);a.data=t,e.dispatchEvent(a)},v=function(e){return NodeList.prototype.isPrototypeOf(e)},y=function(e,r){return Object.keys(e).reduce((function(r,t){var s=new RegExp("{{"+t+"}}","g");return r.replace(s,e[t])}),r)},m=function(e){return e[0].sort&&e.sort((function(e,r){return e.sort>r.sort})),e},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.trim().replace(/(([_ ])([a-z]))|(([a-z])?([A-Z]))/g,(function(e,r,t,s,a,n,o){return(s?"-"+s:(n||"")+"-"+o).toLowerCase()}));return r?t.toUpperCase():t},h={cssClasses:{checkbox:"form-check-input",field:"form-control",file:"form-control-file",label:"form-check-label",radio:"form-check-input",wrapper:{checkbox:"form-check",field:"",radio:"form-check"}},initAjaxOptions:{cache:"no-store",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET",mode:"same-origin",redirect:"follow",timeout:0},messages:{maxChoice:"answers max",error:"Answer is necessary.",errorMultiChoice:"You must choose from {{checksMin}} to {{checksMax}} answers."},showErrorMessage:!0,templates:{error:'<div class="surveyjs-error-message">{{errorMessage}}</div>',input:'<input {{fieldAttributes}} name="surveyjs-answer-{{questionNumber}}{{addMoreName}}" class="surveyjs-input surveyjs-{{answerType}} {{fieldClasses}}" />',label:'<label for="{{answerCode}}" class="surveyjs-label {{labelClasses}}">{{labelString}}</label>',loading:'<div class="surveyjs-loading" data-surveyjs-loading>Loading...</div>',select:'<select {{fieldAttributes}} name="surveyjs-answer-{{questionNumber}}{{addMoreName}}" class="surveyjs-select {{fieldClasses}}">{{optionsHtml}}</select>',textarea:'<textarea {{fieldAttributes}} name="surveyjs-answer-{{questionNumber}}" class="surveyjs-textarea {{fieldClasses}}"></textarea>',wrapper:{field:'<div class="surveyjs-field-wrapper surveyjs-{{answerType}}-wrapper {{wrapperClasses}}">{{fieldTemplate}}{{labelTemplate}}</div>',nested:'<div class="surveyjs-field-wrapper surveyjs-nested-wrapper">{{labelTemplate}}<div class="surveyjs-nested-inner">{{nestedFieldsHTML}}</div></div>',question:'<div class="surveyjs-question-wrapper" data-question-id="{{questionId}}" data-formjs-question><div class="surveyjs-question-body"><div class="surveyjs-question-text">{{questionText}}</div><div class="surveyjs-answers-wrapper">{{answersHTML}}</div><div class="surveyjs-errors-wrapper" data-surveyjs-errors>{{errorTemplates}}</div></div></div>',related:'<div class="surveyjs-field-wrapper surveyjs-related-wrapper input-group"><div class="input-group-prepend"><div class="surveyjs-radio-wrapper input-group-text form-check">{{fieldTemplate}}{{labelTemplate}}</div></div>{{relatedFieldHTML}}</div>'}}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return m(e).reduce((function(e,r){return e+'<option value="'.concat(r.value,'">').concat(r.label,"</option>")}),"")},g=function(e,r,t){var s=["data","id","label","nested","related","sort"];/^(option|textarea)$/.test(e.type)&&s.push("type","value");var a="";return Object.keys(e).filter((function(e){return-1===s.indexOf(e)})).forEach((function(r){a+=" ".concat(r,'="').concat(e[r],'"')})),e.data&&Object.keys(e.data).forEach((function(r){a+=" data-".concat(b(r),'="').concat(e.data[r],'"')})),t&&(a+=" required"),e.related&&(a+=" data-require-more"),(a+=' id="'.concat(r,'"')).trim()},j=function(e,r){return{field:r[e]||r.input,label:/^(checkbox|nested|radio|related)$/.test(e)?r.label:"",wrapper:r.wrapper[e]||r.wrapper.field}},q=function e(r,t,s){var a="",n="";return m(r).forEach((function(o,i){var l,c="option"===o.type?"select":o.type;if("select"!==c||n!==c){n=c,t.question.checks&&(o=p({},o,{data:{checks:t.question.checks}}));var u="".concat(c,"-").concat(t.surveyId,"-").concat(t.question.id,"-").concat("select"===c?i+1:o.id),d={questionNumber:t.question.index+1,wrapperClasses:s.cssClasses.wrapper[c]||s.cssClasses.wrapper.field,fieldAttributes:g(o,u,t.question.isRequired),fieldClasses:s.cssClasses[c]||s.cssClasses.field,answerType:c,answerCode:u,addMoreName:"",labelString:o.label||"",labelClasses:s.cssClasses.label},f="";if(o.related){var v=o.related.type||"select",m="select"===v,b=m?p({},o):o.related;b.type=m?"option":v,b.id="",b.data=p({},b.data,{requiredFrom:"#"+u}),delete b.related;var h={fieldAttributes:g(b,"",!1),answerType:v,addMoreName:"-more",fieldClasses:m?s.cssClasses.select:s.cssClasses[v]||s.cssClasses.field};if(f=s.templates[v]||s.templates.input,m){var q=w(o.related);f=f.replace("{{optionsHtml}}",q)}f=y(h,f)}var C=o.related?"related":o.nested?"nested":c,T=j(C,s.templates),k="";o.nested&&(k=e(o.nested,t,s));var x="";"select"===c&&(x=w(r)),l=T.wrapper.replace("{{relatedFieldHTML}}",f).replace("{{fieldTemplate}}",T.field).replace("{{optionsHtml}}",x).replace("{{labelTemplate}}",T.label).replace("{{nestedFieldsHTML}}",k),a+=y(d,l)}})),a},C=function(e,r,t){return m(e).reduce((function(e,s,a){if(s.external)return e;var n=t.templates.wrapper.question,o=s.id,i=a+1,l={surveyId:r,question:{id:o,index:a,isRequired:!!s.required}};s.checks&&(l.question.checks=s.checks);var c=q(s.answers,l,t),u=s.checks?JSON.parse(s.checks):"",p=u[0]||"",f=u[1]||"",v=u&&t.messages.maxChoice?" ("+f+" "+t.messages.maxChoice+")":"",m={questionId:o,questionNumber:i,questionText:s.question+v,answersHTML:c};if(n=y(m,n),t.showErrorMessage){var b=""!==u?t.messages.errorMultiChoice:s.errorMessage||t.messages.error;d(b)&&(b=""),n=n.replace(/{{errorTemplates}}/g,b)}return e+y({checksMin:p,checksMax:f},n)}),"")},T=function(e,r,t){var s=C(e.questions,e.id,t);r.querySelector("[data-surveyjs-body]").insertAdjacentHTML("beforeend",s);var a=e.questions.filter((function(e){return e.external}));if(a.length>0){var n=r.closest("[data-surveyjs-wrapper]");a.forEach((function(r,t){var s=n.querySelector('[data-surveyjs-external="'+(t+1)+'"]');s.setAttribute("data-question-id",r.id),r.answers.forEach((function(t,a){var n=s.querySelectorAll("[data-field]")[a],o={id:"".concat(t.type,"-").concat(e.id,"-").concat(r.id,"-").concat(t.id),type:t.type,value:t.value,required:!!r.required};Object.keys(o).forEach((function(e){n[e]=o[e]}));var i=n.closest("[data-answer]");i.querySelector("label").setAttribute("for",o.id),i.querySelector("[data-label]").innerHTML=t.label,s.querySelector("[data-question]").innerHTML=r.question}))}))}},k=e("default",function(){function e(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e);var a=arguments.length,n=l(r);if(0===a||a>0&&!r)throw new Error('First argument "formEl" is missing or falsy!');if(v(r))throw new Error('First argument "formEl" must be a single DOM node or a form CSS selector, not a NodeList!');if(!n.result)throw new Error('First argument "formEl" is not a DOM node nor a form CSS selector!');if(!s.url||"string"!=typeof s.url)throw new Error('"options.url" is missing or not a string!');var i=this;i.formEl=n.element,i.options=p({},e.prototype.options,s),r=i.formEl,s=i.options,r.querySelector("[data-surveyjs-body]").insertAdjacentHTML("beforebegin",s.templates.loading);var d=o(s.url,s.initAjaxOptions).then((function(e){return"success"!==e.status.toLowerCase()?Promise.reject(e):(e.data.questions&&e.data.questions.length>0&&(T(e.data,r,s),Object.defineProperty(i,"data",{value:u(e.data)}),i.isInitialized=!0,r.closest("[data-surveyjs-wrapper]").classList.add("surveyjs-init-success")),e)})).finally((function(){var e=r.querySelector("[data-surveyjs-loading]");e&&e.parentNode.removeChild(e)}));f(r,c.init,d)}return a(e,null,[{key:"setOptions",value:function(r){e.prototype.options=p({},e.prototype.options,r)}}]),e}());k.prototype.isInitialized=!1,k.prototype.options=h,k.prototype.version=n}}}));
//# sourceMappingURL=surveyjs-systemjs.min.js.map
