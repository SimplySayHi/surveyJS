/* surveyJS Lite v3.0.0 | Valerio Di Punzio (@SimplySayHi) | https://www.valeriodipunzio.com/plugins/surveyJS/ | https://github.com/SimplySayHi/surveyJS | MIT license */
var Survey=function(){"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function t(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e}var a="3.0.0",n=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.headers=new Headers(t.headers),t.timeout>0){var s=new AbortController,a=s.signal;t.signal=a,e=window.setTimeout((function(){s.abort()}),t.timeout)}return fetch(r,t).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return Promise.reject(e)})).finally((function(){e&&window.clearTimeout(e)}))},o=function(e){return Element.prototype.isPrototypeOf(e)},i=function(r){var t=e(r),s="string"===t&&o(document.querySelector(r))&&"form"===document.querySelector(r).tagName.toLowerCase();return{result:o(r)||s,element:"string"===t?document.querySelector(r):r}},l={init:"sjs:init"},c=function r(t){return Object.getOwnPropertyNames(t).forEach((function(s){var a=t[s];"object"===e(a)&&null!==a&&r(a)})),Object.freeze(t)},u=function(e){return"[object Object]"===Object.prototype.toString.call(e)},d=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.from(arguments).slice(1).filter((function(e){return!!e})).forEach((function(t){Object.keys(t).forEach((function(s){Array.isArray(t[s])?r[s]=(r[s]||[]).concat(t[s].slice(0)):u(t[s])?r[s]=e(r[s]||{},t[s]):Array.isArray(r[s])?r[s].push(t[s]):r[s]=t[s]}))})),r},p=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s=d({},{bubbles:!0},s);var a=new Event(r,s);a.data=t,e.dispatchEvent(a)},f=function(e){return NodeList.prototype.isPrototypeOf(e)},v=function(e,r){return Object.keys(e).reduce((function(r,t){var s=new RegExp("{{"+t+"}}","g");return r.replace(s,e[t])}),r)},y=function(e){return e[0].sort&&e.sort((function(e,r){return e.sort>r.sort})),e},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.trim().replace(/(([_ ])([a-z]))|(([a-z])?([A-Z]))/g,(function(e,r,t,s,a,n,o){return(s?"-"+s:(n||"")+"-"+o).toLowerCase()}));return r?t.toUpperCase():t},b={cssClasses:{checkbox:"form-check-input",field:"form-control",file:"form-control-file",label:"form-check-label",radio:"form-check-input",wrapper:{checkbox:"form-check",field:"",radio:"form-check"}},initAjaxOptions:{cache:"no-store",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET",mode:"same-origin",redirect:"follow",timeout:0},messages:{maxChoice:"answers max",error:"Answer is necessary.",errorMultiChoice:"You must choose from {{checksMin}} to {{checksMax}} answers."},showErrorMessage:!0,templates:{error:'<div class="surveyjs-error-message">{{errorMessage}}</div>',input:'<input {{fieldAttributes}} name="surveyjs-answer-{{questionNumber}}{{addMoreName}}" class="surveyjs-input surveyjs-{{answerType}} {{fieldClasses}}" />',label:'<label for="{{answerCode}}" class="surveyjs-label {{labelClasses}}">{{labelString}}</label>',loading:'<div class="surveyjs-loading" data-surveyjs-loading>Loading...</div>',select:'<select {{fieldAttributes}} name="surveyjs-answer-{{questionNumber}}{{addMoreName}}" class="surveyjs-select {{fieldClasses}}">{{optionsHtml}}</select>',textarea:'<textarea {{fieldAttributes}} name="surveyjs-answer-{{questionNumber}}" class="surveyjs-textarea {{fieldClasses}}"></textarea>',wrapper:{field:'<div class="surveyjs-field-wrapper surveyjs-{{answerType}}-wrapper {{wrapperClasses}}">{{fieldTemplate}}{{labelTemplate}}</div>',nested:'<div class="surveyjs-field-wrapper surveyjs-nested-wrapper">{{labelTemplate}}<div class="surveyjs-nested-inner">{{nestedFieldsHTML}}</div></div>',question:'<div class="surveyjs-question-wrapper" data-question-id="{{questionId}}" data-formjs-question><div class="surveyjs-question-body"><div class="surveyjs-question-text">{{questionText}}</div><div class="surveyjs-answers-wrapper">{{answersHTML}}</div><div class="surveyjs-errors-wrapper" data-surveyjs-errors>{{errorTemplates}}</div></div></div>',related:'<div class="surveyjs-field-wrapper surveyjs-related-wrapper input-group"><div class="input-group-prepend"><div class="surveyjs-radio-wrapper input-group-text form-check">{{fieldTemplate}}{{labelTemplate}}</div></div>{{relatedFieldHTML}}</div>'}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y(e).reduce((function(e,r){return e+'<option value="'.concat(r.value,'">').concat(r.label,"</option>")}),"")},w=function(e,r,t){var s=["data","id","label","nested","related","sort"];/^(option|textarea)$/.test(e.type)&&s.push("type","value");var a="";return Object.keys(e).filter((function(e){return-1===s.indexOf(e)})).forEach((function(r){a+=" ".concat(r,'="').concat(e[r],'"')})),e.data&&Object.keys(e.data).forEach((function(r){a+=" data-".concat(m(r),'="').concat(e.data[r],'"')})),t&&(a+=" required"),e.related&&(a+=" data-require-more"),(a+=' id="'.concat(r,'"')).trim()},g=function(e,r){return{field:r[e]||r.input,label:/^(checkbox|nested|radio|related)$/.test(e)?r.label:"",wrapper:r.wrapper[e]||r.wrapper.field}},j=function e(r,t,s){var a="",n="";return y(r).forEach((function(o,i){var l,c="option"===o.type?"select":o.type;if("select"!==c||n!==c){n=c,t.question.checks&&(o=d({},o,{data:{checks:t.question.checks}}));var u="".concat(c,"-").concat(t.surveyId,"-").concat(t.question.id,"-").concat("select"===c?i+1:o.id),p={questionNumber:t.question.index+1,wrapperClasses:s.cssClasses.wrapper[c]||s.cssClasses.wrapper.field,fieldAttributes:w(o,u,t.question.isRequired),fieldClasses:s.cssClasses[c]||s.cssClasses.field,answerType:c,answerCode:u,addMoreName:"",labelString:o.label||"",labelClasses:s.cssClasses.label},f="";if(o.related){var y=o.related.type||"select",m="select"===y,b=m?d({},o):o.related;b.type=m?"option":y,b.id="",b.data=d({},b.data,{requiredFrom:"#"+u}),delete b.related;var j={fieldAttributes:w(b,"",!1),answerType:y,addMoreName:"-more",fieldClasses:m?s.cssClasses.select:s.cssClasses[y]||s.cssClasses.field};if(f=s.templates[y]||s.templates.input,m){var q=h(o.related);f=f.replace("{{optionsHtml}}",q)}f=v(j,f)}var C=o.related?"related":o.nested?"nested":c,T=g(C,s.templates),k="";o.nested&&(k=e(o.nested,t,s));var x="";"select"===c&&(x=h(r)),l=T.wrapper.replace("{{relatedFieldHTML}}",f).replace("{{fieldTemplate}}",T.field).replace("{{optionsHtml}}",x).replace("{{labelTemplate}}",T.label).replace("{{nestedFieldsHTML}}",k),a+=v(p,l)}})),a},q=function(e,r,t){return y(e).reduce((function(e,s,a){if(s.external)return e;var n=t.templates.wrapper.question,o=s.id,i=a+1,l={surveyId:r,question:{id:o,index:a,isRequired:!!s.required}};s.checks&&(l.question.checks=s.checks);var c=j(s.answers,l,t),d=s.checks?JSON.parse(s.checks):"",p=d[0]||"",f=d[1]||"",y=d&&t.messages.maxChoice?" ("+f+" "+t.messages.maxChoice+")":"",m={questionId:o,questionNumber:i,questionText:s.question+y,answersHTML:c};if(n=v(m,n),t.showErrorMessage){var b=""!==d?t.messages.errorMultiChoice:s.errorMessage||t.messages.error;u(b)&&(b=""),n=n.replace(/{{errorTemplates}}/g,b)}return e+v({checksMin:p,checksMax:f},n)}),"")},C=function(e,r,t){var s=q(e.questions,e.id,t);r.querySelector("[data-surveyjs-body]").insertAdjacentHTML("beforeend",s);var a=e.questions.filter((function(e){return e.external}));if(a.length>0){var n=r.closest("[data-surveyjs-wrapper]");a.forEach((function(r,t){var s=n.querySelector('[data-surveyjs-external="'+(t+1)+'"]');s.setAttribute("data-question-id",r.id),r.answers.forEach((function(t,a){var n=s.querySelectorAll("[data-field]")[a],o={id:"".concat(t.type,"-").concat(e.id,"-").concat(r.id,"-").concat(t.id),type:t.type,value:t.value,required:!!r.required};Object.keys(o).forEach((function(e){n[e]=o[e]}));var i=n.closest("[data-answer]");i.querySelector("label").setAttribute("for",o.id),i.querySelector("[data-label]").innerHTML=t.label,s.querySelector("[data-question]").innerHTML=r.question}))}))}},T=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var a=arguments.length,o=i(t);if(0===a||a>0&&!t)throw new Error('First argument "formEl" is missing or falsy!');if(f(t))throw new Error('First argument "formEl" must be a single DOM node or a form CSS selector, not a NodeList!');if(!o.result)throw new Error('First argument "formEl" is not a DOM node nor a form CSS selector!');if(!s.url||"string"!=typeof s.url)throw new Error('"options.url" is missing or not a string!');var u=this;u.formEl=o.element,u.options=d({},e.prototype.options,s),t=u.formEl,s=u.options,t.querySelector("[data-surveyjs-body]").insertAdjacentHTML("beforebegin",s.templates.loading);var v=n(s.url,s.initAjaxOptions).then((function(e){return"success"!==e.status.toLowerCase()?Promise.reject(e):(e.data.questions&&e.data.questions.length>0&&(C(e.data,t,s),Object.defineProperty(u,"data",{value:c(e.data)}),u.isInitialized=!0,t.closest("[data-surveyjs-wrapper]").classList.add("surveyjs-init-success")),e)})).finally((function(){var e=t.querySelector("[data-surveyjs-loading]");e&&e.parentNode.removeChild(e)}));p(t,l.init,v)}return s(e,null,[{key:"setOptions",value:function(r){e.prototype.options=d({},e.prototype.options,r)}}]),e}();return T.prototype.isInitialized=!1,T.prototype.options=b,T.prototype.version=a,T}();
//# sourceMappingURL=surveyjs.min.js.map
