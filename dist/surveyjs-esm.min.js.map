{"version":3,"file":"surveyjs-esm.min.js","sources":["../src/modules/helpers/ajaxCall.js","../src/modules/helpers/customEvents.js","../src/modules/helpers/deepFreeze.js","../src/modules/helpers/isPlainObject.js","../src/modules/helpers/mergeObjects.js","../src/modules/helpers/fieldsStringSelectorSurvey.js","../src/modules/helpers/isEmptyObject.js","../src/modules/helpers/replaceObjectKeysInString.js","../src/modules/helpers/sortList.js","../src/modules/helpers/webStorage.js","../src/modules/utils/getQuestionObject.js","../src/modules/optionsUtils.js","../src/modules/options.js","../src/modules/internals.js","../src/modules/listenerCallbacks/submit.js","../src/modules/utils/getAnswerIndexInWebStorage.js","../src/modules/listenerCallbacks/validation.js","../src/modules/helpers/isFieldForChangeEvent.js","../src/modules/listenerCallbacks/validationEnd.js","../src/modules/helpers/arrayMove.js","../src/modules/buildSurvey/generateQAcodeUtils/generateOptionTags.js","../src/modules/buildSurvey/generateQAcodeUtils/getAttributesStringHTML.js","../src/modules/helpers/toKebabCase.js","../src/modules/buildSurvey/generateQAcodeUtils/generateAnswers.js","../src/modules/buildSurvey/generateQAcodeUtils/getTemplates.js","../src/modules/buildSurvey/buildSurvey.js","../src/modules/buildSurvey/generateQAcode.js","../src/index.js","../src/modules/buildSurvey/populateAnswers.js","../src/modules/helpers/dispatchCustomEvent.js","../src/modules/destroy.js"],"sourcesContent":["\nexport const ajaxCall = ( url = location.href, options = {} ) => {\n\n    let timeoutTimer;\n\n    options.headers = new Headers( options.headers );\n\n    /* SET AbortController FOR timeout */\n    if ( options.timeout > 0 ) {\n        const controller = new AbortController();\n        const signal = controller.signal;\n\n        options.signal = signal;\n\n        timeoutTimer = window.setTimeout(() => {\n            controller.abort();\n        }, options.timeout);\n    }\n\n    return fetch( url, options )\n        .then(response => {\n            if( !response.ok ){\n                return Promise.reject(response);\n            }\n            return response.json();\n        })\n        .catch(error => {\n            return Promise.reject(error);\n        })\n        .finally(() => {\n            if( timeoutTimer ){\n                window.clearTimeout( timeoutTimer );\n            }\n        });\n        \n}\n","\nexport const customEvents = {\n    init: 'sjs:init'\n}\n","\nexport const deepFreeze = obj => {\n\n    Object.getOwnPropertyNames(obj).forEach(name => {\n        const prop = obj[name];\n        if( typeof prop === 'object' && prop !== null ){\n            deepFreeze(prop);\n        }\n    });\n    return Object.freeze(obj);\n    \n}\n","\nexport const isPlainObject = object => {\n    return Object.prototype.toString.call( object ) === '[object Object]';\n}\n","\nimport { isPlainObject } from './isPlainObject';\n\nexport const mergeObjects = function( out = {} ){\n    Array.from(arguments).slice(1).filter(arg => !!arg).forEach(arg => {\n        Object.keys(arg).forEach(key => {\n            if( Array.isArray(arg[key]) ){\n                out[key] = (out[key] || []).concat( arg[key].slice(0) );\n            } else if( isPlainObject(arg[key]) ){\n                out[key] = mergeObjects((out[key] || {}), arg[key]);\n            } else {\n                // * STRING | NUMBER | BOOLEAN | FUNCTION\n                if( Array.isArray(out[key]) ){\n                    // IF THIS IS ONE OF ABOVE (*) AND THE DESTINATION OBJECT IS AN ARRAY\n                    out[key].push(arg[key]);\n                } else {\n                    out[key] = arg[key];\n                }\n            }\n        });\n    });\n\n    return out;\n}\n","\nexport const fieldsStringSelectorSurvey = '[data-surveyjs-form] input:not([type=\"reset\"]):not([type=\"submit\"]):not([type=\"button\"]), [data-surveyjs-form] select, [data-surveyjs-form] textarea, [data-name=\"bind-surveyjs-answer\"]'\n","\nimport { isPlainObject } from './isPlainObject';\n\nexport const isEmptyObject = object => {\n    return isPlainObject(object) && Object.getOwnPropertyNames(object).length === 0;\n}\n","\nexport const replaceObjectKeysInString = (obj, stringHTML) => {\n    return Object.keys(obj).reduce((accString, name) => {\n        const regexStr = new RegExp( '{{' + name + '}}', 'g' );\n        return accString.replace(regexStr, obj[name]);\n    }, stringHTML);\n}\n","\nexport const sortList = ( list ) => {\n    if( list[0]['sort'] ){\n        list.sort((a, b) => a['sort'] > b['sort']);\n    }\n    return list;\n}\n","\nexport const webStorage = () => {\n\n    const checkLocalStorage = () => {\n        const mod = 'check_storage';\n        try {\n            localStorage.setItem(mod, mod);\n            localStorage.removeItem(mod);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    };\n\n    const isAvailable = checkLocalStorage();\n\n    if( isAvailable ){\n        // setObject METHOD FOR HTML STORAGE -> EG: localStorage.setObject( name, JSobj )\n        // TO STORE A JS OBJECT ( AS JSON STRING ) INSIDE THE STORAGE\n        Storage.prototype.setObject = function( key, value ) {\n            this.setItem( key, JSON.stringify(value) );\n        }\n\n        // getObject METHOD FOR HTML STORAGE -> EG: localStorage.getObject( name )\n        // RETURN THE DATA ( STORED AS JSON STRING ) AS JS OBJECT\n        Storage.prototype.getObject = function( key ) {\n            const value = this.getItem( key );\n            return value && JSON.parse( value );\n        }\n    }\n\n    return {\n        isAvailable: isAvailable\n    }\n\n}\n","\nexport const getQuestionObject = ( data, questionId ) => {\n\n    const questions = data.questions,\n          qLength = questions.length;\n\n    let obj = {};\n    \n    for(let q=0; q<qLength; q++){\n        const question = questions[q];\n        if( question.id == questionId ){\n            obj = question;\n            break;\n        }\n    }\n\n    return obj;\n\n}","\nimport { fieldsStringSelectorSurvey, isEmptyObject, mergeObjects } from './helpers';\nimport { getQuestionObject } from './utils/getQuestionObject';\n\nexport const defaultCallbacksInOptions = {\n    formOptions: {\n\n        beforeSend: function beforeSend_surveyDefault( data ){\n            let isHacking = false;\n            const instance = this;\n            const surveyContEl = instance.formEl.closest('[data-surveyjs-container]');\n            const fieldsList = Array.from( surveyContEl.querySelectorAll(fieldsStringSelectorSurvey) );\n\n            let fieldNameCheck = '',\n                fieldTypeCheck = '';\n\n            fieldsList.forEach(fieldEl => {\n                \n                const type = fieldEl.type,\n                      name = fieldEl.name;\n\n                // IF A FIELD HAS THE SAME NAME ATTRIBUTE AND IT IS OF THE SAME TYPE\n                // SKIP THE REST OF THE CODE FOR THIS FIELD AND GO TO THE NEXT\n                if( (name === fieldNameCheck && type === fieldTypeCheck) ){ return; }\n                \n                if( !fieldEl.matches('[data-required-from]') ){\n                    fieldNameCheck = name;\n                    fieldTypeCheck = type;\n                }\n\n                const questionEl = fieldEl.closest('[data-question-id]');\n                const questionId = questionEl ? questionEl.getAttribute('data-question-id') : '';\n                const questionObj = getQuestionObject( instance.data, questionId );\n\n                // BASED ON SURVEY JSON FILE, FORCE REQUIRED FIELDS TO BE VALIDATED\n                // THIS AVOIDS USERS TO HACK THE SURVEY, FOR EXAMPLE REMOVING required ATTRIBUTE FROM THE HTML\n                if( questionId !== '' && questionObj && !!questionObj.required ){\n\n                    const isRequiredFrom = fieldEl.matches('[data-required-from]');\n                    const reqMoreEl = document.querySelector(fieldEl.getAttribute('data-required-from'));\n                    if( !isRequiredFrom || ( isRequiredFrom && reqMoreEl.checked ) ){\n                        if( !fieldEl.required ){\n                            // FIELD IS NOT REQUIRED BUT IT SHOULD => USER HACKED FIELD\n                            isHacking = true;\n                        }\n                        fieldEl.required = true;\n                    }\n                    \n                }\n\n            });\n\n            if( isHacking ){\n                // USER IS HACKING FORM ( REMOVING ATTRIBUTE required FROM A FIELD )\n                // => FORCE VALIDATION TO SHOW ERROR AND STOP SUBMIT\n                const fieldOptions = mergeObjects({}, instance.options.fieldOptions, {focusOnRelated: false});\n                return instance.validateForm( fieldOptions )\n                    .then(formRes => {\n                        data.stopExecution = true;\n                        return data;\n                    });\n            }\n            return data;\n        },\n\n        getFormData: function getFormData_surveyDefault(){\n            const formEl = this.formEl;\n            const instance = formEl.formjs;\n            const fieldsList = Array.from( formEl.closest('[data-surveyjs-container]').querySelectorAll(fieldsStringSelectorSurvey) );\n            const obj = {\n                    answers: [],\n                    id: instance.data.id\n                };\n            let fieldNameCheck = '',\n                fieldTypeCheck = '';\n\n            fieldsList.forEach(fieldEl => {\n                const type = fieldEl.type,\n                      name = fieldEl.name;\n\n                // IF A FIELD HAS THE SAME NAME ATTRIBUTE AND IT IS OF THE SAME TYPE\n                // SKIP THE REST OF THE CODE FOR THIS FIELD AND GO TO THE NEXT\n                if( (name === fieldNameCheck && type === fieldTypeCheck) ){ return; }\n                \n                if( !fieldEl.matches('[data-required-from]') ){\n                    fieldNameCheck = name;\n                    fieldTypeCheck = type;\n                }\n\n                // EACH QUESTION HAS ITS OWN OBJECT ( qaObj ) THAT CONTAINS THE RELATED DATA:\n                // question:    THE QUESTION ID ( undefined FOR QUESTIONS WITH ATTRIBUTE data-required-form - will be skipped later )\n                // answer       AN OBJECT THAT CONTAINS THE FOLLOWS:\n                //                  value:      THE ANSWER VALUE\n                //                  related:    IF THE ANSWER IS REQUIRED FROM ANOTHER ANSWER (SEE BELOW)\n                const questionEl = fieldEl.closest('[data-question-id]'),\n                      questionId = questionEl ? questionEl.getAttribute('data-question-id') : '',\n                      qaObj = {\n                        question: questionId,\n                        answer: {\n                            value: fieldEl.value || ''\n                        }\n                    };\n\n                // A FIELD WITH ATTRIBUTE 'data-required-from' IS MANAGED TOGETHER WITH ITS RELATED FIELD ( WHICH HAS ATTRIBUTE 'data-require-more' )\n                // IF QUESTION ID IS EMPTY -> SKIP THE FIELD ( USEFUL FOR FORM FIELDS OUTSIDE THE SURVEY BODY )\n                if(\n                    fieldEl.matches('[data-required-from]') || \n                    questionId === '' || \n                    isEmptyObject( getQuestionObject(instance.data, questionId) )\n                ){ return; }\n\n                if( type === 'radio' ){\n                    const containerEl = fieldEl.closest('form') ? formEl : fieldEl.closest(instance.options.fieldOptions.questionContainer);\n                    const checkedEl = containerEl.querySelector('[name=\"'+ name +'\"]:checked');\n\n                    qaObj.answer.value = (checkedEl && checkedEl.value) || '';\n\n                    // FOR RADIO THAT REQUIRE THE USER TO GIVE ONE MORE ANSWER\n                    if( checkedEl && checkedEl.matches('[data-require-more]') ){\n                        qaObj.answer.related = formEl.querySelector('[data-required-from=\"#'+ checkedEl.id +'\"]').value;\n                    }\n                }\n\n                if( type === 'checkbox' && fieldEl.matches('[data-checks]') ){\n                    qaObj.answer.value = [];\n                    Array.from(formEl.querySelectorAll('[name=\"'+ name +'\"]:checked')).forEach(el => {\n                        qaObj.answer.value.push( el.value );\n                    });\n                }\n                \n                obj.answers.push( qaObj );\n            });\n        \n            return obj;\n        }\n    \n    }\n}\n","\nimport { defaultCallbacksInOptions } from './optionsUtils';\n\nexport const options = {\n    cssClasses: {\n        checkbox:           'form-check-input',\n        default:            'form-control',\n        file:               'form-control-file',\n        label:              'form-check-label',\n        radio:              'form-check-input',\n        wrapper: {\n            checkbox:       'form-check',\n            default:        '',\n            radio:          'form-check'\n        }\n    },\n    fieldErrorFeedback:     true,\n    formOptions: {\n        beforeSend:         [defaultCallbacksInOptions.formOptions.beforeSend],\n        getFormData:        defaultCallbacksInOptions.formOptions.getFormData\n    },\n    initAjaxOptions: {\n        cache:              'no-store',\n        credentials:        'same-origin',\n        headers: {\n                            'Content-Type': 'application/json',\n                            'Accept':       'application/json'\n        },\n        method:             'GET',\n        mode:               'same-origin',\n        redirect:           'follow',\n        timeout:            0\n    },\n    messages:{\n        maxChoice:                 'ANSWERS MAX',\n        errorMessage:              'Answer is necessary.',\n        errorMessageMultiChoice:   'You must choose from {{checksMin}} to {{checksMax}} answers.'\n    },\n    templates: {\n        error:      '<div class=\"surveyjs-error-message\">{{errorMessage}}</div>',\n        \n        input:      '<input {{fieldAttributes}} name=\"surveyjs-answer-{{questionNumber}}{{addMoreName}}\" class=\"surveyjs-input surveyjs-{{answerType}} {{fieldClasses}}\" />',\n\n        label:      '<label for=\"{{answerCode}}\" class=\"surveyjs-label {{labelClasses}}\">{{labelString}}</label>',\n\n        loading:    '<div class=\"surveyjs-loading\" data-surveyjs-loading>Loading...</div>',\n\n        question:   '<div class=\"surveyjs-question-wrapper\" data-question-id=\"{{questionId}}\" data-formjs-question>'+\n                        '<div class=\"surveyjs-question-header\">Question {{questionNumber}}</div>'+\n                        '<div class=\"surveyjs-question-body\">'+\n                            '<div class=\"surveyjs-question-text\">{{questionText}}</div>'+\n                            '<div class=\"surveyjs-answers-wrapper form-group\">'+\n                                '{{answersHTML}}'+\n                                '{{errorsHTML}}'+\n                            '</div>'+\n                        '</div>'+\n                    '</div>',\n        \n        select:     '<select {{fieldAttributes}} name=\"surveyjs-answer-{{questionNumber}}{{addMoreName}}\" class=\"surveyjs-select {{fieldClasses}}\">'+\n                        '{{optionsHtml}}'+\n                    '</select>',\n        \n        textarea:   '<textarea {{fieldAttributes}} name=\"surveyjs-answer-{{questionNumber}}\" class=\"surveyjs-textarea {{fieldClasses}}\"></textarea>',\n\n        wrapper: {\n            default:    '<div class=\"surveyjs-field-wrapper surveyjs-wrapper-{{answerType}} {{wrapperClasses}}\">'+\n                            '{{fieldTemplate}}'+\n                            '{{labelTemplate}}'+\n                        '</div>',\n\n            errors:     '<div class=\"surveyjs-errors-wrapper\" data-surveyjs-errors>{{errorTemplates}}</div>',\n            \n            nested:     '<div class=\"surveyjs-field-wrapper surveyjs-nested-parent surveyjs-wrapper-{{answerType}}\">'+\n                            '{{labelTemplate}}'+\n                            '<div class=\"surveyjs-nested-container surveyjs-field-indent\">'+\n                                '{{nestedFieldsHTML}}'+\n                            '</div>'+\n                        '</div>',\n            \n            related:    '<div class=\"surveyjs-field-wrapper input-group {{wrapperClasses}}\">'+\n                            '<div class=\"input-group-prepend\">'+\n                                '<div class=\"input-group-text form-check surveyjs-wrapper-radio\">'+\n                                    '{{fieldTemplate}}'+\n                                    '{{labelTemplate}}'+\n                                '</div>'+\n                            '</div>'+\n                            '{{relatedFieldHTML}}'+\n                        '</div>'\n        }\n    },\n    useWebStorage:          true\n}\n","\nexport const internals = {\n    storageArray: [],\n    storageName: 'Survey_' + location.href + '_{{surveyFormName}}_surveyId[{{surveyId}}]'\n}\n","\nexport function submit( event ){\n    const self = event.target.formjs;\n    event.data.then(() => {\n        if( self.options.useWebStorage ){\n            sessionStorage.removeItem( self.internals.storageName );\n        }\n    });\n}\n","\nexport const getAnswerIndexInWebStorage = ( internals, fieldName, multiChoiceValue = '' ) => {\n\n    const wsSurvey = sessionStorage.getObject( internals.storageName );\n            \n    if( wsSurvey ){\n        const wsSurveyLength = wsSurvey.length;\n        \n        for(let ws=0; ws<wsSurveyLength; ws++){\n            const lsItem = wsSurvey[ws];\n\n            if( lsItem.field === fieldName ){\n                if( multiChoiceValue ){\n                    if( lsItem.value !== multiChoiceValue ){\n                        continue;\n                    }\n                }\n                return ws;\n            }\n        }\n    }\n    \n    return -1;\n\n}","\nimport { isEmptyObject, isFieldForChangeEvent } from '../helpers';\nimport { getAnswerIndexInWebStorage }           from '../utils/getAnswerIndexInWebStorage';\nimport { getQuestionObject }                    from '../utils/getQuestionObject';\n\nexport function validation( event ){\n\n    const eventName = event.type,\n          fieldEl = event.target,\n          self = fieldEl.closest('form').formjs,\n          internals = self.internals,\n          containerEl = fieldEl.closest( self.options.fieldOptions.questionContainer ),\n          fieldValue = fieldEl.value,\n          isMultiChoice = fieldEl.matches('[data-checks]'),\n          isRequireMore = fieldEl.matches('[data-require-more]'),\n          isRequiredFrom = fieldEl.matches('[data-required-from]'),\n          reqMoreEl = isRequiredFrom ? containerEl.querySelector(fieldEl.getAttribute('data-required-from')) : null;\n\n    // VARS USED TO VALIDATE THE FILED IF IT IS REQUIRED\n    const itemEl = isRequiredFrom ? reqMoreEl : fieldEl,\n          questionId = itemEl.id ? itemEl.id.split('-')[2] : 'id-not-found',\n          isFieldForChangeEventBoolean = isFieldForChangeEvent(fieldEl),\n          questionObj = getQuestionObject(self.data, questionId);\n\n    // IF IT'S NOT A SURVEY QUESTION -> SKIP\n    if( isEmptyObject(questionObj) ){ return true; }\n\n    if(\n        (isFieldForChangeEventBoolean && eventName === 'change') ||\n        (!isFieldForChangeEventBoolean && eventName !== 'change')\n    ){\n        \n        // MANAGE ITEMS IN LOCAL STORAGE ( IF AVAILABLE AND USABLE )\n        if( self.options.useWebStorage && !fieldEl.matches('[data-exclude-storage]') ){\n            const inArrayPos = getAnswerIndexInWebStorage( internals, fieldEl.name, (isMultiChoice ? fieldValue : false) );\n            const inArrayRequireMorePos = getAnswerIndexInWebStorage( internals, fieldEl.name + '-more' );\n\n            let storageArray = internals.storageArray;\n\n            if( !isRequireMore && !isRequiredFrom && inArrayRequireMorePos !== -1 ){\n                storageArray.splice(inArrayRequireMorePos, 1);\n            }\n\n            if( inArrayPos !== -1 ){\n                if( isMultiChoice ){\n                    if( !fieldEl.checked && storageArray[inArrayPos].value === fieldValue ){\n                        // REMOVE ITEM FROM LS\n                        storageArray.splice(inArrayPos, 1);\n                    } else {\n                        // ADD ITEM TO LS\n                        storageArray.push( { field: fieldEl.name, value: fieldValue } );\n                    }\n                } else {\n                    if( fieldValue !== '' ){\n                        storageArray[inArrayPos].value = fieldValue;\n                    } else {\n                        storageArray.splice(inArrayPos, 1); \n                    }\n                }\n            } else {\n                if( fieldValue !== '' ){\n                    if( isRequiredFrom && fieldValue !== '' ){\n                        const oldFieldNamePos = getAnswerIndexInWebStorage( internals, reqMoreEl.name );\n                        if( oldFieldNamePos !== -1 ){\n                            storageArray.splice(oldFieldNamePos, 1);\n                        }\n                        storageArray.push( { field: reqMoreEl.name, value: reqMoreEl.value } );\n                    }\n                    storageArray.push( { field: fieldEl.name, value: fieldValue } );\n                    if( isRequireMore ){\n                        const elReqFromEl = fieldEl.closest('form').querySelector( '[data-required-from=\"#' + fieldEl.id + '\"]' );\n                        storageArray.push( { field: elReqFromEl.name, value: elReqFromEl.value } );\n                    }\n                }\n            }\n\n            sessionStorage.setObject( internals.storageName, storageArray );\n        }\n\n        // BASED ON JSON DATA, FORCE REQUIRED FIELDS TO BE VALIDATED\n        if( typeof questionObj.required !== 'undefined' ){\n            fieldEl.required = true;\n        }\n\n    }\n    \n}\n","\nexport const isFieldForChangeEvent = fieldEl => {\n    return fieldEl.matches('select, [type=\"radio\"], [type=\"checkbox\"], [type=\"file\"]');\n}\n","\nimport { arrayMove } from '../helpers';\nimport { getQuestionObject } from '../utils/getQuestionObject';\n\nexport function validationEnd( event ){\n    const fieldEl = event.data.fieldEl;\n    const errors = event.data.errors;\n    const instance = event.target.formjs;\n    \n    const questionId = fieldEl.id ? fieldEl.id.split('-')[2] : 'id-not-found';\n    const questionObj = getQuestionObject(instance.data, questionId);\n\n    if( errors && isPlainObject(questionObj.errorMessage) ){\n        let errorsList = Object.keys(errors);\n        if( errors.rule ){\n            // PUT ERROR \"rule\" AS FIRST => SO THAT A GENERIC ERROR CAN BE SHOWN BEFORE ALL OTHERS\n            const ruleIndex = errorsList.indexOf('rule');\n            errorsList = arrayMove(errorsList, ruleIndex, 0);\n        }\n        const errorsWrapper = fieldEl.closest( instance.options.fieldOptions.questionContainer ).querySelector('[data-surveyjs-errors]');\n        const errorsHTML = errorsList.reduce((accHTML, name) => {\n            const errorMessage = questionObj.errorMessage[name] || '';\n            return accHTML += errorMessage ? instance.options.templates.error.replace('{{errorMessage}}', errorMessage) : '';\n        }, '');\n\n        errorsWrapper.innerHTML = errorsHTML;\n    }\n}\n","\nexport const arrayMove = (array, from, to) => {\n    array.splice(to, 0, array.splice(from, 1)[0]);\n    return array;\n}\n","\nimport { sortList } from '../../helpers';\n\nexport const generateOptionTags = ( optionsList = [] ) => {\n\n    return sortList( optionsList ).reduce((optionsHTML, opt) => {\n        return optionsHTML += `<option value=\"${opt.value}\">${opt.label}</option>`;\n    }, '');\n\n}","\nimport { toKebabCase } from '../../helpers';\n\nexport const getAttributesStringHTML = ( answerObj, answerCode, isRequired ) => {\n    const excludedAttrs = ['data', 'id', 'label', 'nested', 'related', 'sort'];\n    \n    if( /^(option|textarea)$/.test(answerObj.type) ){\n        excludedAttrs.push('type', 'value');\n    }\n\n    let string = '';\n\n    Object.keys(answerObj)\n        .filter(name => excludedAttrs.indexOf(name) === -1)\n        .forEach(name => {\n            string += ` ${name}=\"${answerObj[name]}\"`;\n        });\n\n    if( answerObj.data ){\n        Object.keys(answerObj.data).forEach(name => {\n            string += ` data-${toKebabCase(name)}=\"${answerObj.data[name]}\"`;\n        });\n    }\n\n    if( isRequired ){\n        string += ' required';\n    }\n\n    if( answerObj.related ){\n        string += ' data-require-more';\n    }\n\n    string += ` id=\"${answerCode}\"`;\n\n    return string.trim();\n}\n","\nexport const toKebabCase = ( string = '', useAllCaps = false ) => {\n    let newString = string.trim().replace(/(([_ ])([a-z]))|(([a-z])?([A-Z]))/g, (match, p1, p2, p3, p4, p5, p6) => {\n        const concatGroup = p3 ? '-' + p3 : (p5 || '') + '-' + p6;\n        return concatGroup.toLowerCase();\n    } );\n    return useAllCaps ? newString.toUpperCase() : newString;\n}\n","\nimport { mergeObjects, replaceObjectKeysInString, sortList } from '../../helpers';\nimport { generateOptionTags }       from './generateOptionTags';\nimport { getAttributesStringHTML }  from './getAttributesStringHTML';\nimport { getTemplates }             from './getTemplates';\n\nexport const generateAnswers = ( options, answersList, extraData ) => {\n\n    let allAnswersHTML = '';\n    let previousType = '';\n\n    sortList( answersList ).forEach((answer, index) => {\n\n        let answerHTML = '';\n\n        // COLLECT USEFUL DATA\n        // answerType => checkbox, date, email, radio, select, text, textarea, etc...\n        const answerType = answer.type === 'option' ? 'select' : answer.type;\n        \n        if( answerType === 'select' && previousType === answerType ){ return; }\n\n        previousType = answerType;\n\n        if( extraData.question.checks ){\n            answer = mergeObjects({}, answer, {data:{checks:extraData.question.checks}});\n        }\n        \n        const answerCode = `${answerType}-${extraData.surveyId}-${extraData.question.id}-${answerType === 'select' ? (index + 1) : answer.id}`;\n        const answerData = {\n            questionNumber: extraData.question.index + 1,\n            wrapperClasses: options.cssClasses.wrapper[answerType] || options.cssClasses.wrapper.default,\n            fieldAttributes: getAttributesStringHTML( answer, answerCode, extraData.question.isRequired ),\n            fieldClasses: options.cssClasses[answerType] || options.cssClasses.default,\n\n            answerType,\n            answerCode,\n            addMoreName: '',\n\n            labelString: answer.label || '',\n            labelClasses: options.cssClasses.label\n        };\n\n        let relatedFieldHTML = '';\n        if( answer.related ){\n            const relatedType = answer.related.type || 'select';\n            const relatedIsSelect = relatedType === 'select';\n            const relatedObj = relatedIsSelect ? mergeObjects({}, answer) : answer.related;\n\n            relatedObj.type = relatedIsSelect ? 'option' : relatedType;\n            relatedObj.id = '';\n            relatedObj.data = mergeObjects({}, relatedObj.data, {requiredFrom:'#'+answerCode});\n            delete relatedObj.related;\n\n            const answerDataRelated = {\n                fieldAttributes: getAttributesStringHTML(relatedObj, '', false),\n                answerType: relatedType,\n                addMoreName: '-more',\n                fieldClasses: relatedIsSelect ? options.cssClasses.select : (options.cssClasses[relatedType] || options.cssClasses.default)\n            };\n\n            relatedFieldHTML = options.templates[relatedType] || options.templates.input;\n            if( relatedIsSelect ){\n                const optionsHtml = generateOptionTags( answer.related );\n                relatedFieldHTML = relatedFieldHTML.replace('{{optionsHtml}}', optionsHtml);\n            }\n\n            relatedFieldHTML = replaceObjectKeysInString(answerDataRelated, relatedFieldHTML);\n        }\n        \n        // TAKE RIGHT TEMPLATES ( wrapper, field and label ) AND PUT ALL TOGETHER\n        // answerTypeForTemplate => related, input, nested, select, textarea, etc...\n        const answerTypeForTemplate = answer.related ? 'related' : (answer.nested ? 'nested' : answerType);\n        const templates = getTemplates( options.templates, answerTypeForTemplate );\n\n        let nestedFieldsHTML = '';\n        if( answer.nested ){\n            nestedFieldsHTML = generateAnswers( options, answer.nested, extraData );\n        }\n\n        let optionsHtml = '';\n        if( answerType === 'select' ){\n            optionsHtml = generateOptionTags( answersList );\n        }\n\n        answerHTML = templates.wrapper\n                        .replace('{{relatedFieldHTML}}', relatedFieldHTML)\n                        .replace('{{fieldTemplate}}', templates.field)\n                        .replace('{{optionsHtml}}', optionsHtml)\n                        .replace('{{labelTemplate}}', templates.label)\n                        .replace('{{nestedFieldsHTML}}', nestedFieldsHTML);\n        allAnswersHTML += replaceObjectKeysInString(answerData, answerHTML);\n\n    });\n\n    return allAnswersHTML;\n\n}\n","\nexport const getTemplates = ( templates, answerType ) => {\n    return {\n        field: templates[answerType] || templates.input,\n        label: /^(checkbox|nested|radio|related)$/.test(answerType) ? templates.label : '',\n        wrapper: templates.wrapper[answerType] || templates.wrapper.default\n    }\n}\n","\nimport { generateQAcode } from './generateQAcode';\n\nexport const buildSurvey = ( formEl, options, internals, data ) => {\n    \n    const formName = formEl.getAttribute('name') || '';\n    \n    // REPLACE SURVEY ID AND FORM NAME IN WEB STORAGE NAME\n    internals.storageName = internals.storageName.replace( /{{surveyId}}/, data.id );\n    internals.storageName = internals.storageName.replace( /{{surveyFormName}}/, formName );\n    \n    const qaHtmlAll = generateQAcode( data, options );\n    formEl.querySelector('[data-surveyjs-body]').insertAdjacentHTML( 'beforeend', qaHtmlAll );\n\n    // MANAGE EXTERNAL QUESTION\n    const extQuestion = data.questions.filter(obj => obj.external)[0];\n    if( extQuestion ){\n        const externalCont = formEl.closest('[data-surveyjs-container]').querySelector('[data-surveyjs-external]');\n        \n        externalCont.setAttribute('data-question-id', extQuestion.id);\n        extQuestion.answers.forEach((answer, index) => {\n            const externalField = externalCont.querySelectorAll('[data-field]')[index];\n            const fieldProps = {\n                    id: `${answer.type}-${data.id}-${extQuestion.id}-${answer.id}`,\n                    type: answer.type,\n                    value: answer.value,\n                    required: !!extQuestion.required\n                };\n            \n            Object.keys(fieldProps).forEach(name => {\n                externalField[name] = fieldProps[name];\n            });\n\n            const answerCont = externalField.closest('[data-answer]');\n            answerCont.querySelector('label').setAttribute('for', fieldProps.id);\n            answerCont.querySelector('[data-label]').innerHTML = answer.label;\n            externalCont.querySelector('[data-question]').innerHTML = extQuestion.question;\n        });\n    }\n\n}\n","\nimport { isPlainObject, replaceObjectKeysInString, sortList } from '../helpers';\nimport { generateAnswers } from './generateQAcodeUtils/generateAnswers';\n\nexport const generateQAcode = ( surveyData, options ) => {\n\n    const questionsList = sortList( surveyData.questions );\n    const qaDataLength = questionsList.length;\n    \n    let qaCodeAll = '';\n    \n    for(let i=0; i<qaDataLength; i++){\n        const questionObj = questionsList[i];\n\n        if( questionObj.external ){ continue; }\n\n        let qaHtml = options.templates.question;\n        const questionId = questionObj.id;\n        const questionNumber = i + 1;\n        const extraData = {\n            surveyId: surveyData.id,\n            question: {\n                id: questionId,\n                index: i,\n                isRequired: !!questionObj.required\n            }\n        };\n\n        if( questionObj.checks ){\n            extraData.question.checks = questionObj.checks;\n        }\n        \n        let answersHTML = generateAnswers( options, questionObj.answers, extraData );\n\n        const maxChoice = questionObj.checks ? JSON.parse(questionObj.checks) : '';\n        const checksMin = maxChoice[0] || '';\n        const checksMax = maxChoice[1] || '';\n        const maxChoiceText = maxChoice && options.messages.maxChoice ? ' ('+ checksMax +' '+ options.messages.maxChoice +')' : '';\n\n        const questionData = {\n            questionId,\n            questionNumber,\n            questionText: questionObj.question + maxChoiceText,\n            answersHTML,\n            errorsHTML: options.fieldErrorFeedback ? options.templates.wrapper.errors : ''\n        };\n        qaHtml = replaceObjectKeysInString(questionData, qaHtml);\n\n        if( options.fieldErrorFeedback ){\n            let errorMessage = maxChoice !== '' ? options.messages.errorMessageMultiChoice : (questionObj.errorMessage || options.messages.errorMessage);\n\n            // CASE OF MULTIPLE ERROR MESSAGES FROM JSON DATA => DYNAMICALLY MANAGED VIA EVENT LISTENER IN CONSTRUCTOR\n            if( isPlainObject(errorMessage) ){\n                errorMessage = '';\n            }\n\n            qaHtml = qaHtml.replace( /{{errorTemplates}}/g, errorMessage );\n        }\n\n        qaCodeAll += replaceObjectKeysInString({checksMin, checksMax}, qaHtml);\n    }\n    \n    return qaCodeAll;\n\n}\n","\nimport { ajaxCall, customEvents, deepFreeze, dispatchCustomEvent, mergeObjects, webStorage } from './modules/helpers';\nimport { options }          from './modules/options';\nimport { internals }        from './modules/internals';\nimport { submit, validation, validationEnd } from './modules/listenerCallbacks';\nimport { buildSurvey }      from './modules/buildSurvey/buildSurvey';\nimport { populateAnswers }  from './modules/buildSurvey/populateAnswers';\nimport { destroy }          from './modules/destroy';\n\nimport Form from 'formjs-plugin';\n\nimport './index.scss';\n\nconst version = '3.0.0';\n\nclass Survey extends Form {\n\n    constructor( formEl, optionsObj = {} ){\n        if( !optionsObj.url || typeof optionsObj.url !== 'string' ){\n            throw new Error('\"options.url\" is missing or not a string!');\n        }\n\n        const options = mergeObjects( {}, Survey.prototype.options, optionsObj );\n\n        if( !webStorage().isAvailable ){\n            options.useWebStorage = false;\n        }\n\n        // CREATE FORM INSTANCE FOR SURVEY\n        super( formEl, options );\n        const self = this;\n        self.internals = internals;\n        self.options.fieldOptions.validateOnEvents.split(' ').forEach(eventName => {\n            const useCapturing = eventName === 'blur' ? true : false;\n            self.formEl.addEventListener(eventName, validation, useCapturing);\n        });\n\n        self.formEl.querySelector('[data-surveyjs-body]').insertAdjacentHTML( 'beforebegin', self.options.templates.loading );\n\n        // CREATE SURVEY\n        const retrieveSurvey = ajaxCall(self.options.url, self.options.initAjaxOptions)\n            .then(response => {\n                if( response.status.toLowerCase() !== 'success' ){\n                    return Promise.reject(response);\n                }\n                return new Promise(resolve => {\n                    self.data = response.data;\n                    if( self.data.questions && self.data.questions.length > 0 ){\n                        buildSurvey(self.formEl, self.options, self.internals, self.data);\n                        if( self.options.useWebStorage ){\n                            populateAnswers( self.formEl, self.internals );\n                        }\n                        deepFreeze(self.data);\n                        self.formEl.addEventListener('fjs.field:validation', validationEnd);\n                        self.formEl.addEventListener('fjs.form:submit', submit);\n                        super.init().then(() => {\n                            self.isInitialized = true;\n                            self.formEl.closest('[data-surveyjs-container]').classList.add('surveyjs-init-success');\n                            resolve(response);\n                        });\n                    } else {\n                        resolve(response);\n                    }\n                });\n            })\n            .finally(() => {\n                const loadingBoxEl = self.formEl.querySelector('[data-surveyjs-loading]');\n                if( loadingBoxEl ){\n                    loadingBoxEl.parentNode.removeChild(loadingBoxEl);\n                }\n            });\n        \n        dispatchCustomEvent( self.formEl, customEvents.init, retrieveSurvey );\n    }\n\n    destroy(){\n        destroy(this.formEl);\n        super.destroy();\n    }\n\n    static setOptions( optionsObj ){\n        Survey.prototype.options = mergeObjects({}, Survey.prototype.options, optionsObj);\n    }\n\n}\n\nSurvey.prototype.isInitialized = false;\nSurvey.prototype.options = options;\nSurvey.prototype.version = version;\n\nexport default Survey;\n","\nexport const populateAnswers = ( formEl, internals ) => {\n\n    const WS = sessionStorage.getObject( internals.storageName );\n    if( WS ){\n        const surveyContEl = formEl.closest('[data-surveyjs-container]');\n        internals.storageArray = WS;\n        WS.forEach(item => {\n            const fieldFirst = surveyContEl.querySelector( '[name=\"' + item.field + '\"]' ),\n                  isRadioOrCheckbox = fieldFirst.matches('[type=\"radio\"], [type=\"checkbox\"]'),\n                  fieldEl = ( isRadioOrCheckbox ? surveyContEl.querySelector('[name=\"' + item.field + '\"][value=\"' + item.value + '\"]') : fieldFirst );\n            \n            if( isRadioOrCheckbox ){\n                fieldEl.checked = true;\n            } else {\n                fieldEl.value = item.value;\n            }\n        });\n    }\n\n}\n","\nimport { mergeObjects } from './mergeObjects';\n\nexport const dispatchCustomEvent = ( elem, eventName, data = {}, eventOptions = {} ) => {\n    eventOptions = mergeObjects({}, { bubbles: true }, eventOptions);\n    const eventObj = new Event(eventName, eventOptions);\n    eventObj.data = data;\n    elem.dispatchEvent( eventObj );\n}\n","\nimport { submit, validation, validationEnd } from './listenerCallbacks';\n\nexport const destroy = formEl => {\n\n    formEl.formjs.options.fieldOptions.validateOnEvents.split(' ').forEach(eventName => {\n        const useCapturing = eventName === 'blur' ? true : false;\n        formEl.removeEventListener(eventName, validation, useCapturing);\n    });\n    formEl.removeEventListener('fjs.field:validation', validationEnd);\n    formEl.removeEventListener('fjs.form:submit', submit);\n    \n}\n"],"names":["customEvents","deepFreeze","obj","Object","getOwnPropertyNames","forEach","name","prop","freeze","isPlainObject","object","prototype","toString","call","mergeObjects","out","Array","from","arguments","slice","filter","arg","keys","key","isArray","concat","push","fieldsStringSelectorSurvey","isEmptyObject","length","replaceObjectKeysInString","stringHTML","reduce","accString","regexStr","RegExp","replace","sortList","list","sort","a","b","webStorage","isAvailable","mod","localStorage","setItem","removeItem","e","checkLocalStorage","Storage","setObject","value","this","JSON","stringify","getObject","getItem","parse","getQuestionObject","data","questionId","questions","qLength","q","question","id","defaultCallbacksInOptions","formOptions","beforeSend","isHacking","instance","surveyContEl","formEl","closest","fieldsList","querySelectorAll","fieldNameCheck","fieldTypeCheck","fieldEl","type","matches","questionEl","getAttribute","questionObj","required","isRequiredFrom","reqMoreEl","document","querySelector","checked","fieldOptions","options","focusOnRelated","validateForm","then","formRes","stopExecution","getFormData","formjs","answers","qaObj","answer","checkedEl","questionContainer","related","el","cssClasses","checkbox","default","file","label","radio","wrapper","fieldErrorFeedback","initAjaxOptions","cache","credentials","headers","Content-Type","Accept","method","mode","redirect","timeout","messages","maxChoice","errorMessage","errorMessageMultiChoice","templates","error","input","loading","select","textarea","errors","nested","useWebStorage","internals","storageArray","storageName","location","href","submit","event","self","target","sessionStorage","getAnswerIndexInWebStorage","fieldName","multiChoiceValue","wsSurvey","wsSurveyLength","ws","lsItem","field","validation","eventName","containerEl","fieldValue","isMultiChoice","isRequireMore","itemEl","split","isFieldForChangeEventBoolean","isFieldForChangeEvent","inArrayPos","inArrayRequireMorePos","splice","oldFieldNamePos","elReqFromEl","validationEnd","errorsList","rule","ruleIndex","indexOf","to","array","errorsWrapper","errorsHTML","accHTML","innerHTML","generateOptionTags","optionsList","optionsHTML","opt","getAttributesStringHTML","answerObj","answerCode","isRequired","excludedAttrs","test","string","useAllCaps","newString","trim","match","p1","p2","p3","p4","p5","p6","toLowerCase","toUpperCase","toKebabCase","generateAnswers","answersList","extraData","allAnswersHTML","previousType","index","answerHTML","answerType","checks","surveyId","answerData","questionNumber","wrapperClasses","fieldAttributes","fieldClasses","addMoreName","labelString","labelClasses","relatedFieldHTML","relatedType","relatedIsSelect","relatedObj","requiredFrom","answerDataRelated","optionsHtml","answerTypeForTemplate","getTemplates","nestedFieldsHTML","buildSurvey","formName","qaHtmlAll","surveyData","questionsList","qaDataLength","qaCodeAll","i","external","qaHtml","answersHTML","checksMin","checksMax","maxChoiceText","questionData","questionText","generateQAcode","insertAdjacentHTML","extQuestion","externalCont","setAttribute","externalField","fieldProps","answerCont","Survey","Form","[object Object]","optionsObj","url","Error","super","validateOnEvents","useCapturing","addEventListener","retrieveSurvey","timeoutTimer","Headers","controller","AbortController","signal","window","setTimeout","abort","fetch","response","ok","json","Promise","reject","catch","finally","clearTimeout","ajaxCall","status","resolve","WS","item","fieldFirst","isRadioOrCheckbox","populateAnswers","init","isInitialized","classList","add","loadingBoxEl","parentNode","removeChild","elem","eventOptions","bubbles","eventObj","Event","dispatchEvent","dispatchCustomEvent","removeEventListener","destroy","version"],"mappings":"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"}