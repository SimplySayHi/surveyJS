var WEB_STORAGE=function(){var e=function(){var e="check_storage";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}();return e&&(Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)}),{isAvailable:e}}();!function(r){function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var a={};n.m=r,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./src/index.js":function(e,t,r){"use strict";var a=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}(),i=r("./src/modules/helper.js"),o=r("./src/modules/listenerCallbacks.js"),n=r("./src/modules/optionsUtils.js"),s=r("./src/modules/options.js"),l=r("./src/modules/validationRules.js"),u=r("./src/modules/formStartup.js"),d=r("./src/modules/destroy.js"),c=r("./src/modules/getFormJSON.js"),f=r("./src/modules/init.js"),p=r("./src/modules/isValidField.js"),m=r("./src/modules/isValidForm.js"),v=r("./src/modules/submit.js"),h=new WeakMap,y=function(){function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=this,a=arguments.length,n=(0,i._checkFormEl)(e);if(0===a||0<a&&!e)throw new Error('First argument "formEl" is missing or falsy!');if((0,i._isNodeList)(e))throw new Error('First argument "formEl" must be a single DOM node or a form CSS selector, not a NodeList!');if(!n.result)throw new Error('First argument "formEl" is not a DOM node nor a form CSS selector!');r.formEl=n.element,r.options=(0,i._mergeObjects)({},s.prototype.options,t),h.set(r,{charCount:o._callbackFns.charCount,dataTypeNumber:o._callbackFns.dataTypeNumber,keypressMaxlength:o._callbackFns.keypressMaxlength,pastePrevent:o._callbackFns.pastePrevent.bind(r),submit:o._callbackFns.submit.bind(r),validation:o._callbackFns.validation.bind(r)}),u._formStartup.call(r)}return a(s,[{key:"destroy",value:function(){d.destroy.call(this)}},{key:"getFormJSON",value:function(e){return c.getFormJSON.call(this,e)}},{key:"init",value:function(){return f.init.call(this)}},{key:"isValidField",value:function(e,t){return p.isValidField.call(this,e,t)}},{key:"isValidForm",value:function(e){return m.isValidForm.call(this,e)}},{key:"submit",value:function(e,t){v.submit.call(this,e,t)}},{key:"listenerCallbacks",get:function(){return h.get(this)}}],[{key:"addValidationRules",value:function(e){this.prototype.validationRules=(0,i._mergeObjects)({},this.prototype.validationRules,e)}},{key:"setOptions",value:function(e){this.prototype.options=(0,i._mergeObjects)({},this.prototype.options,e)}}]),s}();y.prototype.isInitialized=!1,y.prototype.validationRules=l.validationRules,y.prototype.options=s.options,y.prototype.version="2.3.2",n._setCallbackFunctionsInOptions.call(y.prototype),window.Form||(window.Form=y),window.FormJS||(window.FormJS=y)},"./src/modules/checkDirtyField.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._checkDirtyField=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";(e=(0,a._isNodeList)(e)?Array.from(e):[e]).forEach(function(e){if("checkbox"!==e.type&&"radio"!==e.type){var t=e.closest("[data-formjs-question]")||e;e.value?(0,a._addClass)(t,r):(0,a._removeClass)(t,r)}})};var a=r("./src/modules/helper.js")},"./src/modules/destroy.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=function(){var r=this,a=r.formEl,e=r.options.fieldOptions.validateOnEvents;0<a.querySelectorAll("[data-char-count]").length&&a.removeEventListener("input",r.listenerCallbacks.charCount,!1),r.options.fieldOptions.strictHtmlValidation&&(a.removeEventListener("keypress",r.listenerCallbacks.keypressMaxlength,!1),a.removeEventListener("input",r.listenerCallbacks.dataTypeNumber,!1)),r.options.fieldOptions.preventPasteFields&&a.removeEventListener("paste",r.listenerCallbacks.pastePrevent,!1),r.options.formOptions.handleSubmit&&a.removeEventListener("submit",r.listenerCallbacks.submit),e.split(" ").forEach(function(e){var t="blur"===e;a.removeEventListener(e,r.listenerCallbacks.validation,t)})}},"./src/modules/formStartup.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._formStartup=function(){var r=this,a=r.formEl;if(!a||!a.matches("[novalidate]"))return!1;var e=r.options.fieldOptions,t=r.options.formOptions;e.handleValidation&&(e.strictHtmlValidation&&(a.addEventListener("keypress",r.listenerCallbacks.keypressMaxlength,!1),a.addEventListener("input",r.listenerCallbacks.dataTypeNumber,!1)),e.preventPasteFields&&a.querySelectorAll(e.preventPasteFields).length&&a.addEventListener("paste",r.listenerCallbacks.pastePrevent,!1),0<a.querySelectorAll("[data-char-count]").length&&a.addEventListener("input",r.listenerCallbacks.charCount,!1),e.validateOnEvents.split(" ").forEach(function(e){var t="blur"===e;a.addEventListener(e,r.listenerCallbacks.validation,t)})),t.handleSubmit&&(a.addEventListener("submit",r.listenerCallbacks.submit),t.ajaxSubmit&&(a.getAttribute("enctype")&&(t.ajaxOptions.contentType=a.getAttribute("enctype")),a.getAttribute("method")&&(t.ajaxOptions.method=a.getAttribute("method").toUpperCase()),a.getAttribute("action")&&(t.ajaxOptions.url=a.getAttribute("action"))))}},"./src/modules/getFormJSON.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormJSON=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.formOptions.getFormJSON,u={},d=this.formEl,t=d.querySelectorAll("input, select, textarea"),r=Array.from(t).filter(function(e){return e.matches(':not([type="reset"]):not([type="submit"]):not([type="button"]):not([type="file"]):not([data-exclude-json])')});return"function"==typeof e?u=e.call(this,r):r.forEach(function(e){var t="checkbox"===e.type,r="radio"===e.type,a=e.matches("select"),n=e.name,s=e.value;if(t){s=e.checked;var i=Array.from(d.querySelectorAll('[name="'+n+'"]'));1<i.length&&(s=[],i.filter(function(e){return e.checked}).forEach(function(e){s.push(e.value)}))}else if(r){var o=d.querySelector('[name="'+n+'"]:checked');s=null===o?null:o.value}else if(a){var l=Array.from(e.options).filter(function(e){return e.selected});1<l.length&&(s=[],l.forEach(function(e){s.push(e.value)}))}u[n]=s}),u}},"./src/modules/helper.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=(t._fieldsStringSelector='input:not([type="reset"]):not([type="submit"]):not([type=button]):not([type=hidden]), select, textarea',t._addClass=function(t,e){e.split(" ").forEach(function(e){t.classList.add(e)})},t._executeCallback=function(e,t){var r=this,a=[];"function"==typeof e?a.push(e):Array.isArray(e)&&(a=e),a.forEach(function(e){e.call(r,t)})},t._isDOMNode=function(e){return Element.prototype.isPrototypeOf(e)});t._isFieldForChangeEvent=function(e){return e.matches('select, [type="radio"], [type="checkbox"], [type="file"]')},t._isNodeList=function(e){return NodeList.prototype.isPrototypeOf(e)},t._isPlainObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t._checkFormEl=function(e){var t=void 0===e?"undefined":a(e),r="string"===t&&n(document.querySelector(e))&&"form"===document.querySelector(e).tagName.toLowerCase();return{result:n(e)||r,element:"string"===t?document.querySelector(e):e}},t._mergeObjects=function e(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1;r<arguments.length;r++){var a=arguments[r];if(a)for(var n in a){var s="[object Array]"===Object.prototype.toString.call(a[n]),i="[object Object]"===Object.prototype.toString.call(a[n]);a.hasOwnProperty(n)&&(s?(void 0!==t[n]&&null!==t[n]||(t[n]=[]),t[n]=t[n].concat(a[n].slice(0))):i?t[n]=e(t[n],a[n]):Array.isArray(t[n])?t[n].push(a[n]):t[n]=a[n])}}return t},t._removeClass=function(t,e){e.split(" ").forEach(function(e){t.classList.remove(e)})},t._serialize=function(r){return r&&"object"===(void 0===r?"undefined":a(r))&&r.constructor===Object?Object.keys(r).reduce(function(e,t){return e.push(t+"="+encodeURIComponent(r[t])),e},[]).join("&"):r},t._toCamelCase=function(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})}},"./src/modules/init.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var m=r("./src/modules/helper.js");t.init=function(){var d=this,c=d.formEl,e=c.querySelectorAll(m._fieldsStringSelector),f="",p="";return Array.from(e).forEach(function(e){var t=e.name,r=e.type;if(t===f&&r===p)return!0;var a="checkbox"===e.type||"radio"===e.type,n=(0,m._isFieldForChangeEvent)(e),s=c.querySelector('[name="'+e.name+'"]:checked'),i=e.matches("[data-required-from]"),o=i?c.querySelector(e.getAttribute("data-required-from")):null;if(i||(f=t,p=r),!a&&e.value||a&&null!==s||i&&o.checked){var l="change";a?e=s:n||(l=d.options.fieldOptions.validateOnEvents.split(" ").filter(function(e){return"change"!==e})[0]||"input");var u=new Event(l,{bubbles:"blur"!==l,cancelable:!0});e.dispatchEvent(u)}}),d.isInitialized=!0,d}},"./src/modules/isValid.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isValid=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=i.matches("[data-subtype]")?(0,u._toCamelCase)(i.getAttribute("data-subtype")):i.type,t=i.value,r=0<t.trim().length,a=Array.from(i.attributes).sort(function(e,t){return e.name<t.name}),l=[],n=!0;return a.forEach(function(e){var t=(0,u._toCamelCase)(e.name.replace("data-","")),r=e.value,a="type"===t&&"function"==typeof d._validationRulesAttributes[r],n="function"==typeof d._validationRulesAttributes[t];if(a||n){var s={attrName:a?r:t,attrValue:r,fieldEl:i,fieldOptions:o};a||"requiredFrom"===t?l.unshift(s):l.push(s)}}),l.forEach(function(e){d._validationRulesAttributes[e.attrName](e,i)||(n=!1)}),n=0<l.length?n&&r:r,"function"==typeof this.validationRules[e]?this.validationRules[e](t,i)&&n:n};var u=r("./src/modules/helper.js"),d=r("./src/modules/validationRules.js")},"./src/modules/isValidField.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidField=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e)return!1;var r="string"==typeof e?this.formEl.querySelector(e):e,a=(0,c._mergeObjects)({},this.options.fieldOptions,t),n=0<r.value.trim().length,s=r.required,i=r.matches("[data-required-from]"),o=this.formEl.querySelector(r.getAttribute("data-required-from")),l=r.matches("[data-validate-if-filled]"),u=n,d=r.closest("[data-formjs-question]");return u=!!(!s&&!l&&!i||l&&!n||i&&!s)||f._isValid.call(this,r,a),a.checkDirtyField&&(0,p._checkDirtyField)(r,a.cssClasses.dirty),null===d||a.skipUIfeedback||(u?(!i||i&&o.checked)&&((0,c._removeClass)(d,a.cssClasses.error),(0,c._addClass)(d,a.cssClasses.valid)):((0,c._removeClass)(d,a.cssClasses.valid),(0,c._addClass)(d,a.cssClasses.error))),u};var c=r("./src/modules/helper.js"),f=r("./src/modules/isValid.js"),p=r("./src/modules/checkDirtyField.js")},"./src/modules/isValidForm.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidForm=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=this,t=s.formEl;if(null===t||!t.matches("[novalidate]"))return!1;var i=(0,a._mergeObjects)({},s.options.fieldOptions,e.fieldOptions||{}),o={fields:[],result:!0},l="",u="";return void 0===i.focusOnRelated&&(i.focusOnRelated=!1),Array.from(t.querySelectorAll(a._fieldsStringSelector)).forEach(function(e){var t=e.name,r=e.type,a={field:e,result:!0};if(t===l&&r===u)return!0;e.matches("[data-required-from]")||(l=t,u=r);var n=s.isValidField(e,i);(a.result=n)||(o.result=!1),o.fields.push(a)}),o};var a=r("./src/modules/helper.js")},"./src/modules/listenerCallbacks.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._callbackFns=void 0;var p=r("./src/modules/helper.js");t._callbackFns={charCount:function(e){var t=e.target||e;if(t.matches("[data-char-count]")){var r=t.closest("[data-formjs-question]");if(r&&r.querySelector("[data-char-length]")){var a=t.value.length;r.querySelector("[data-char-length]").textContent=a}}},dataTypeNumber:function(e){var t=e.target;if(t.matches('[data-type="number"]')){var r=t.value;if(/[^\d.,+\-]/.test(r)){e.stopImmediatePropagation();var a=r.replace(/[^\d.,+\-]/g,"");t.value=a}}},keypressMaxlength:function(e){var t=e.target;if(t.matches("[maxlength]")){var r=1*t.maxLength,a=e.which||e.keyCode;if(t.value.length>=r&&-1===[8,37,38,39,46].indexOf(a))return!1}},pastePrevent:function(e){var t=e.target,r=this.options.fieldOptions;t.matches(r.preventPasteFields)&&(e.preventDefault(),p._executeCallback.call(this,r.onPastePrevented,t))},submit:function(e){this.submit({},e)},validation:function(e){var t=this,r=e.type,a=e.target;if(a.matches(p._fieldsStringSelector)){var n=a.matches('select, [type="radio"], [type="checkbox"], [type="file"]'),s="radio"===a.type,i=a.matches("[data-required-from]"),o=a.matches("[data-require-more]"),l=0<a.value.trim().length;if(s&&"change"===r){var u=o?a:t.formEl.querySelector('[name="'+a.name+'"][data-require-more]'),d=null!==u?t.formEl.querySelector('[data-required-from="#'+u.id+'"]'):null;o?null!==d&&(a.required&&(d.required=!0),t.options.fieldOptions.focusOnRelated&&d.focus()):null!==u&&null!==d&&(d.required=!1,d.value="")}if(i&&l){var c=t.formEl.querySelector(a.getAttribute("data-required-from"));c.checked=!0,c.required&&(a.required=!0)}if(n&&"change"===r||!n&&"change"!==r){var f=[{field:a,result:t.isValidField(a)}];p._executeCallback.call(t,t.options.fieldOptions.onValidation,f)}}}}},"./src/modules/options.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.options={fieldOptions:{checkDirtyField:!1,cssClasses:{dirty:"is-dirty",error:"has-error",valid:"is-valid"},focusOnRelated:!0,handleFileUpload:!0,handleValidation:!0,maxFileSize:10,onPastePrevented:null,onValidation:null,preventPasteFields:'[type="password"], [data-equal-to]',skipUIfeedback:!1,strictHtmlValidation:!0,validateOnEvents:"input change"},formOptions:{ajaxOptions:{async:!0,cache:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"},method:"POST",timeout:0,url:location.href},ajaxSubmit:!0,beforeSend:null,getFormJSON:null,handleSubmit:!0,onSubmitComplete:null,onSubmitError:null,onSubmitSuccess:null}}},"./src/modules/optionsUtils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setCallbackFunctionsInOptions=void 0;r("./src/modules/helper.js"),r("./src/modules/checkDirtyField.js"),t._setCallbackFunctionsInOptions=function(){var n=this,e={fieldOptions:["onPastePrevented","onValidation"],formOptions:["beforeSend","onSubmitComplete","onSubmitError","onSubmitSuccess"]},t=function(a){e[a].forEach(function(e){var t=n.options[a][e],r=[];Array.isArray(t)?r.concat(t):t&&r.push(t),n.options[a][e]=r})};for(var r in e)t(r)}},"./src/modules/submit.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=this,a=r.formEl,n=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];o&&e&&(o.disabled=!1),t&&t.preventDefault()};e.fieldOptions=(0,v._mergeObjects)({},r.options.fieldOptions,e.fieldOptions||{}),e.formOptions=(0,v._mergeObjects)({},r.options.formOptions,e.formOptions||{});var s=e.fieldOptions.handleValidation,i=s?r.isValidForm(e):{result:!0},o=a.querySelector('[type="submit"]'),l=e.formOptions.ajaxSubmit;s&&v._executeCallback.call(r,e.fieldOptions.onValidation,i.fields);var u=l?r.getFormJSON():null,d=[],c=e.formOptions.beforeSend;if("function"==typeof c||Array.isArray(c)){var f={stopExecution:!1},p=!1;if(u&&(f.formData=u),"function"==typeof c?d.push(c):Array.isArray(c)&&(d=c),d.forEach(function(e){if(!p){var t=e.call(r,f);(0,v._isPlainObject)(t)&&(u=t.formData||u,t.stopExecution&&(p=!0))}}),p)return n(),!1}if(!i.result||o&&o.disabled)return n(),!1;if(o&&(o.disabled=!0),l)n(!1),h._xhrCall.call(r,u);else if(!t){var m=new Event("submit",{bubbles:!0,cancelable:!0});a.dispatchEvent(m)}};var v=r("./src/modules/helper.js"),h=r("./src/modules/xhrCall.js")},"./src/modules/validationRules.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validationRules={cap:function(e){return/^[0-9]{5}$/.test(e)},date:function(e){var t=/^(((0[1-9]|[12]\d|3[01])[ \/\-.](0[13578]|1[02])[ \/\-.]((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)[ \/\-.](0[13456789]|1[012])[ \/\-.]((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])[ \/\-.]02[ \/\-.]((19|[2-9]\d)\d{2}))|(29[ \/\-.]02[ \/\-.]((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/g.test(e),r=/^(((19|[2-9]\d)\d{2})[ \/\-.](0[13578]|1[02])[ \/\-.](0[1-9]|[12]\d|3[01]))|(((19|[2-9]\d)\d{2})[ \/\-.](0[13456789]|1[012])[ \/\-.](0[1-9]|[12]\d|30))|(((19|[2-9]\d)\d{2})[ \/\-.]02[ \/\-.](0[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))[ \/\-.]02[ \/\-.]29)$/g.test(e);return t||r},email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},fiscalCode:function(e){return/^(?:[B-DF-HJ-NP-TV-Z](?:[AEIOU]{2}|[AEIOU]X)|[AEIOU]{2}X|[B-DF-HJ-NP-TV-Z]{2}[A-Z]){2}[\dLMNP-V]{2}(?:[A-EHLMPR-T](?:[04LQ][1-9MNP-V]|[1256LMRS][\dLMNP-V])|[DHPS][37PT][0L]|[ACELMRT][37PT][01LM])(?:[A-MZ][1-9MNP-V][\dLMNP-V]{2}|[A-M][0L](?:[\dLMNP-V][1-9MNP-V]|[1-9MNP-V][0L]))[A-Z]$/i.test(e)},hexColor:function(e){return/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(e)},landlineNumber:function(e){return/^((00|\+)\d{2}[\-\. ]??)??(((0[\d]{1,4}))([\/\-\. ]){0,1}([\d, ]{5,10}))$/.test(e)},mobileNumber:function(e){return/^((00|\+)??\d{2}[\-\. ]??)??3\d{2}[\-\. ]??(\d{6,7}|\d{2}[\-\. ]??\d{2}[\-\. ]??\d{3})$/.test(e)},number:function(e){return/[+-]?([0-9]*[.])?[0-9]+/.test(e)},numberFloat:function(e){return/[+-]?([0-9]*[.])[0-9]+/.test(e)},numberInteger:function(e){return/^\d+$/.test(e)},password:function(e){return/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(e)},url:function(e){return/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(e)},username:function(e){return/^(?=\w)(?=[\-\.\@]?)[\w\-\.\@]{3,24}$/.test(e)},vatNumber:function(e){return/^(IT){0,1}[0-9]{11}$/i.test(e)}},t._validationRulesAttributes={checkbox:function(e){var t=e.fieldEl.checked,r=e.fieldEl.closest("form").querySelector('[name="'+e.fieldEl.name+'"][data-checks]');return null!==r&&(t=this.checks({attrValue:r.getAttribute("data-checks"),fieldEl:r})),t},checks:function(e){try{var t=JSON.parse(e.attrValue),r=e.fieldEl,a=r.closest("form").querySelectorAll('[name="'+r.name+'"]:checked').length;return a>=t[0]&&a<=t[1]}catch(e){throw new Error('"data-checks" attribute is not a valid array!')}},equalTo:function(e){var t=e.fieldEl,r=t.closest("form").querySelector('[name="'+t.getAttribute("data-equal-to")+'"]');return t.value===r.value},exactLength:function(e){return e.fieldEl.value.length===1*e.attrValue},file:function(a){var n=!0,e=a.fieldEl,s=e.accept?new RegExp(e.accept.replace("*","[^\\/,]+")):null;return Array.from(e.files).forEach(function(e){var t=0<a.fieldOptions.maxFileSize&&e.size/1024/1024>a.fieldOptions.maxFileSize,r=null===s||s.test(e.type);!t&&r||(n=!1)}),n},length:function(e){try{var t=e.fieldEl.value.length,r=JSON.parse(e.attrValue);return t>=r[0]&&t<=r[1]}catch(e){throw new Error('"data-length" attribute is not a valid array!')}},max:function(e){return 1*e.fieldEl.value<=1*e.attrValue},maxlength:function(e){return e.fieldEl.value.length<=1*e.attrValue},min:function(e){var t=1*e.fieldEl.value;return 1*e.attrValue<=t},minlength:function(e){return e.fieldEl.value.length>=1*e.attrValue},pattern:function(e){var t=e.fieldEl,r=t.pattern;return new RegExp(r).test(t.value)},radio:function(e){var t=e.fieldEl,r=t.closest("form").querySelector('[name="'+t.name+'"]:checked');return null!==r&&0<r.value.trim().length},requiredFrom:function(e){var t=e.fieldEl,r=t.closest("form"),a=0<t.value.trim().length,n=r.querySelector(t.getAttribute("data-required-from")),s=r.querySelector('[name="'+n.name+'"]:checked');return n.checked&&n.required?a:null!==s}}},"./src/modules/xhrCall.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._xhrCall=function(e){var i=this,t=i.formEl,r=i.options.fieldOptions,o=i.options.formOptions,l=t.querySelector('[type="submit"]'),u=void 0,a=(0,v._mergeObjects)({},o.ajaxOptions);if(a.data=e,"multipart/form-data"===a.contentType&&r.handleFileUpload){var n=new FormData;for(var s in a.data)n.append(s,a.data[s]);Array.from(t.querySelectorAll('[type="file"]')).forEach(function(a){Array.from(a.files).forEach(function(e,t){var r=a.name+"["+t+"]";n.append(r,e,e.name)})}),a.data=n}var d=new XMLHttpRequest,c=function(e){var t=e.responseText;return function(){try{return JSON.parse(t)}catch(e){return!1}}()||function(){try{return null!==e.responseXML?(new DOMParser).parseFromString(t,"text/xml"):t}catch(e){return!1}}()||t},f=function(e){var t=e.target,r={errorThrown:t.statusText,status:"error",response:t};v._executeCallback.call(i,o.onSubmitError,r)};if(d.addEventListener("loadend",function(e){var t=e.target,r=c(t),a=4===t.readyState,n=200===t.status,s={dataOrXHR:a&&n?r:t,status:a&&n?"success":"error",XHRorResponse:a&&n?t:r};u&&window.clearTimeout(u),l.disabled=!1,v._executeCallback.call(i,o.onSubmitComplete,s)},!1),d.addEventListener("load",function(e){var t=e.target;if(200===t.status){var r={data:c(t),status:"success",response:t};v._executeCallback.call(i,o.onSubmitSuccess,r)}else f(e)},!1),d.addEventListener("error",f,!1),"GET"===a.method&&(a.url+=(/\?/.test(a.url)?"&":"?")+(0,v._serialize)(a.data),!1===a.cache&&(a.url+=(/\&/.test(a.url)?"&":"")+"_="+(new Date).getTime())),d.open(a.method,a.url,a.async),a.xhrFields)for(var p in a.xhrFields)d[p]=a.xhrFields[p];for(var m in a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),a.data&&"multipart/form-data"!==a.contentType&&d.setRequestHeader("Content-Type",a.contentType),a.headers)d.setRequestHeader(m,a.headers[m]);d.send("GET"===a.method?null:a.data),a.async&&0<a.timeout&&(u=window.setTimeout(function(){d.abort()},a.timeout))};var v=r("./src/modules/helper.js")}});var SURVEY=function(_){var u,a,F=_("[data-surveyjs-container]"),r=F.find("[data-surveyjs-img]"),n=F.find("[data-surveyjs-title]"),s=F.find("[data-surveyjs-description]"),h=F.find("[data-surveyjs-form]"),i=h.find("[data-surveyjs-body]"),y=WEB_STORAGE.isAvailable,g=[],b="SURVEY_"+location.href+"_"+h.attr("name")+"_surveyID[{{surveyID}}]",A=[],o={},l={it:{loadingBox:'<div class="surveyjs-loading" data-surveyjs-loading><i class="glyphicon glyphicon-refresh icon-spin"></i> Caricamento in corso...</div>',selectFirstOption:"Seleziona una risposta...",textareaPlaceholder:"Scrivi la tua risposta...",maxChoiceText:"RISPOSTE MAX",fieldErrorMessage:"&Egrave; necessario rispondere.",fieldErrorMessageMultiChoice:"Puoi scegliere da {{checksMin}} a {{checksMax}} risposte."},en:{loadingBox:'<div class="surveyjs-loading" data-surveyjs-loading><i class="glyphicon glyphicon-refresh icon-spin"></i> Loading...</div>',selectFirstOption:"Select your answer...",textareaPlaceholder:"Write here your answer...",maxChoiceText:"ANSWERS MAX",fieldErrorMessage:"Answer is necessary.",fieldErrorMessageMultiChoice:"You can choose from {{checksMin}} to {{checksMax}} answers."}},T={cssClasses:{checkbox:"form-check-input",default:"form-control",file:"form-control-file",label:"form-check-label",radio:"form-check-input",select:"form-control",textarea:"form-control"},fieldErrorFeedback:!0,fieldOptions:{validateOnEvents:"input change"},formOptions:{ajaxOptions:{method:h.attr("method")?h.attr("method").toUppercase():"POST",url:h.attr("action")||""},getFormJSON:function(e){var o={answers:[],id:a},l="",u="";return _(e).add(F.find('[data-name="bind-surveyjs-answer"]')).each(function(){var e=_(this),t=e.attr("type"),r=e.attr("name");if(r===l&&t===u)return!0;e.is("[data-required-from]")||(l=r,u=t);var a=e.closest("[data-question-id]").attr("data-question-id")||"",n=e.val(),s={question:a,answer:{id_answer:[n]}};if(e.is("[data-required-from]")||""===a||-1===j(a))return!0;if(e.is("textarea")&&(s.answer.id_answer=[""],s.answer.text=n),"radio"===t){var i=(e.closest("form").length?h:e.closest("[data-formjs-question]")).find('[name="'+r+'"]:checked');0<i.length?(i.is("[data-require-more]")&&(s.answer.attributes=_('[data-required-from="#'+i.attr("id")+'"]').val().trim()),i.is("[data-nested-index]")&&(s.answer.attributes=i.attr("data-nested-index")),s.answer.id_answer=[i.val().trim()]):s.answer.id_answer=[""]}"checkbox"===t&&e.is("[data-checks]")&&(s.answer.id_answer=[],h.find('[name="'+r+'"]:checked').each(function(e,t){s.answer.id_answer.push(_(t).val().trim())})),o.answers.push(s)}),o}},lang:"en",onInitComplete:null,onInitError:null,onInitSuccess:null,templates:{fieldError:'<div class="surveyjs-field-error-message">{{fieldErrorMessage}}</div>',input:'<div class="surveyjs-single-answer surveyjs-input-container surveyjs-answer-{{answerType}} form-check" data-answer-index="{{answerIndex}}">{{inputTagCode}}{{labelTagCode}}</div>',inputGroup:'<div class="surveyjs-single-answer input-group" data-answer-index="{{answerIndex}}"><div class="input-group-prepend"><div class="input-group-text form-check surveyjs-answer-{{answerType}}"><input type="{{answerType}}" name="surveyjs-answer-{{questionNumber}}" id="{{answerCode}}" data-answer-id="{{answerId}}" value="{{answerIdValue}}" {{attrRequired}} data-require-more="" class="surveyjs-input surveyjs-radio form-check-input" /><label for="{{answerCode}}" class="surveyjs-label form-check-label">{{answerString}}</label></div></div>{{relatedAnswerField}}</div>',inputTag:'<input type="{{answerType}}" name="surveyjs-answer-{{questionNumber}}{{addMoreName}}" class="surveyjs-input surveyjs-{{answerType}} {{fieldClass}}" id="{{answerCode}}" {{nestedAnswer}} data-answer-root="{{progIdsJoined}}" data-answer-id="{{answerId}}" value="{{answerIdValue}}" {{attrRequired}} {{attrChecks}} {{attrRequiredFrom}} />',labelTag:'<label for="{{answerCode}}" class="surveyjs-label {{labelClass}}">{{answerString}}</label>',question:'<div data-question-id="{{questionId}}" data-question-index="{{questionNumber}}" data-formjs-question class="surveyjs-question-box clearfix"><div class="surveyjs-question-header">Question {{questionNumber}}</div><div class="surveyjs-question-body"><div class="surveyjs-question-text">{{questionText}}</div><div class="surveyjs-answers-box form-group clearfix">{{answersHtml}}{{fieldErrorTemplate}}</div></div></div>',select:'<div class="surveyjs-single-answer surveyjs-answer-select" data-answer-index="{{answerIndex}}">{{selectTagCode}}</div>',selectTag:'<select id="{{answerCode}}" name="surveyjs-answer-{{questionNumber}}{{addMoreName}}" class="surveyjs-select {{fieldClass}}" {{attrRequired}} {{nestedAnswer}} data-answer-root="{{progIdsJoined}}" {{attrRequiredFrom}}>{{optionsHtml}}</select>',textarea:'<div class="surveyjs-single-answer surveyjs-answer-textarea"><textarea id="{{answerCode}}" data-answer-id="{{answerId}}" {{nestedAnswer}} name="surveyjs-answer-{{questionNumber}}" {{attrRequired}} class="surveyjs-textarea {{fieldClass}}" {{answerMaxlength}} rows="6" placeholder="{{answerPlaceholder}}"></textarea></div>'},useLocalStorage:!0},d={formOptions:{beforeSend:function(i){var o="",l="";return h.find('input:not([type="reset"]):not([type="submit"]):not([type="button"]), select, textarea').add(F.find('[data-name="bind-surveyjs-answer"]')).each(function(){var e=_(this),t=e.attr("type"),r=e.attr("name");if(r===o&&t===l)return!0;e.is("[data-required-from]")||(o=r,l=t);var a=e.closest("[data-question-id]").attr("data-question-id")||"";if(""!==a&&O(a)){var n=e.is("[data-required-from]");(!n||n&&_(e.data("required-from")).is(":checked"))&&e.prop("required",!0);var s=_.extend(!0,{},{focusOnRelated:!1},T.fieldOptions);u.isValidField(e[0],s)||(i.stopExecution=!0)}}),i},onSubmitSuccess:function(){y&&localStorage.removeItem(b)}}},M=function(e){for(var t=e.length,r=""===e[0].id?"":'<option value="">'+T.selectFirstOption+"</option>",a=0;a<t;a++){var n=e[a],s=n.id;r+='<option value="'+s+'" data-answer-id="'+s+'">'+n.answer+"</option>"}return r},c=function(e){a=e.id;var t=function(e){for(var t="",r=(e=e[0].sort?e.sort(function(e,t){return e.sort>t.sort}):e).length,a=0;a<r;a++){var n=e[a],s=n.checks?JSON.parse(n.checks):"",i=0<s.length?s[0]:"",o=0<s.length?s[1]:"",l="",u=T.templates.question;if(l+=P(n,n.id,a),"hidden-privacy"!==n.question){if(u=(u=(u=(u=(u=u.replace(/{{questionId}}/g,n.id)).replace(/{{questionNumber}}/g,a+1)).replace(/{{questionText}}/g,n.question+(""!==s?" ("+o+" "+T.maxChoiceText+")":""))).replace(/{{answersHtml}}/g,l)).replace(/{{fieldErrorTemplate}}/g,T.fieldErrorFeedback?T.templates.fieldError:""),T.fieldErrorFeedback&&-1!==T.templates.fieldError.indexOf("{{fieldErrorMessage}}")){var d=""!==s?T.fieldErrorMessageMultiChoice:T.fieldErrorMessage;u=u.replace(/{{fieldErrorMessage}}/g,d).replace(/{{checksMin}}/g,i).replace(/{{checksMax}}/g,o)}t+=u}else F.find('[data-name="bind-surveyjs-answer"]').closest("[data-formjs-question]").attr({"data-question-id":n.id})}return t}(e.questions);b=b.replace(/{{surveyID}}/g,a),m(e),i.append(t);var r={fieldOptions:T.fieldOptions,formOptions:T.formOptions};u=new Form(h[0],r),p(),u.init(),f(),F.addClass("surveyjs-init-success")},f=function(){F.on(T.fieldOptions.validateOnEvents,'[data-surveyjs-form] input:not([type="reset"]):not([type="submit"]):not([type="button"]), [data-surveyjs-form] select, [data-surveyjs-form] textarea, [data-name="bind-surveyjs-answer"]',function(e){var t=e.type,r=_(this),a=r.val().trim(),n=r.is("[data-checks]"),s=r.is("[data-require-more]"),i=r.is("[data-required-from]"),o=r.is("[data-required-from]")?_(r.data("required-from")):r,l=o.attr("id")?o.attr("id").split("-")[1]:"id-not-found",u=r.is('select, [type="radio"], [type="checkbox"]');if(-1===j(l))return!0;if(y&&"input"===t&&!r.is("[data-exclude-storage]")){var d=w(r.attr("name"),!!n&&a),c=w(r.attr("name")+"-more");if(s||i||-1===c||g.splice(c,1),-1!==d)n?!1===r.prop("checked")&&g[d].value===a?g.splice(d,1):g.push({field:r.attr("name"),value:a}):""!==a?g[d].value=a:g.splice(d,1);else if(""!==a){if(i&&""!==a){var f=_(r.attr("data-required-from")),p=w(f.attr("name"));-1!==p&&g.splice(p,1),g.push({field:f.attr("name"),value:f.val().trim()})}if(g.push({field:r.attr("name"),value:a}),s){var m=h.find('[data-required-from="#'+r.attr("id")+'"]');g.push({field:m.attr("name"),value:m.val().trim()})}}localStorage.setObject(b,g)}if(!r.prop("required")&&O(l)&&(u&&"change"===t||!u&&"input"===t||"change"!==t&&"input"!==t)){r.prop("required",!0);var v=new Event(t,{bubbles:"blur"!==t});r[0].dispatchEvent(v)}})},w=function(e,t){var r=localStorage.getObject(b);if(r)for(var a=r.length,n=0;n<a;n++){var s=r[n];if(s.field===e){if(void 0!==t&&t&&s.value!==t)continue;return n}}return-1},j=function(e){for(var t=o.survey.questions,r=t.length,a=-1,n=0;n<r;n++){if(t[n].id==e){a=n;break}}return a},O=function(e){var t=j(e);return!!(-1!==t)&&void 0!==o.survey.questions[t].required},P=function(e,t,r,a){var n,s=_.isArray(e)?e:e.answers,i=s.length,o=(t=e.id?e.id:t||0,r||0),l="",u="hidden-privacy"===e.question;s[0].sort&&s.sort(function(e,t){return e.sort>t.sort});for(var d=0;d<i;d++){var c="",f=_.isArray(e)?e[d]:e.answers[d],p=d+1,m=o+1,v=f.type,h=f.id,y=0<A.length?A.join("-"):"",g=0<A.length&&0===d?'<div class="surveyjs-field-indent">':"",b=0<A.length&&d===i-1?"</div>":"",w="",j={labelTagCode:"checkbox"===v||"radio"===v?T.templates.labelTag:"",answerId:h,answerIdValue:"text"===v?"":h,answerIndex:p,answerName:"surveyjs-answer-"+m,answerPlaceholder:"",answerMaxlength:f.maxlength?'maxlength="'+f.maxlength+'"':"",answerString:"string"==typeof f.answer?f.answer:"",answerType:v,attrRequired:void 0!==e.required?'required=""':void 0!==a?a:"",fieldClass:(n=void 0,n="option"===f.type?"select":f.type,T.cssClasses[n]||T.cssClasses.default),nestedAnswer:""!==y?'data-nested-index="'+p+'"':"",optionsHtml:"",progIdsJoined:y,questionNumber:m,answerCode:("option"===v?"select":v)+"-"+t+"-"+(h||0)+"-"+m+(""!==y?"-"+y:"")+"-"+p,attrChecks:e.checks?'data-checks="'+e.checks+'"':""};if(u){var O=F.find('[data-name="bind-surveyjs-answer"]').eq(d),S={id:j.answerCode,name:j.answerName,type:v,value:j.answerId};void 0!==e.required&&(S.required=!0),O.prop(S).attr("data-answer-id",j.answerId),O.closest("div").find("label").attr({for:j.answerCode}).find("span").text(f.answer)}else{if("string"==typeof f.answer||"number"==typeof f.answer){if(f.attribute){var E=f.attribute,x=_.isArray(E);c=T.templates.inputGroup,w=x?T.templates.selectTag:T.templates.inputTag,j.fieldClass=T.cssClasses.default,x&&(j.fieldClass=T.cssClasses.select,j.optionsHtml=M(E))}else{if(f.nested){var q=T.templates.labelTag;l+=g+'<div class="surveyjs-'+v+'">'+(q=(q=(q=q.replace(/{{answerCode}}/g,j.answerCode)).replace(/{{labelClass}}/g,T.cssClasses.label+" surveyjs-field-indent-0")).replace(/{{answerString}}/g,f.answer))+"</div>"+b,A.push(p),l+=P(f.nested,t,o,j.attrRequired);continue}"textarea"===v?(c=T.templates.textarea,j.answerPlaceholder=f.placeholder||T.textareaPlaceholder):"checkbox"!==v&&"radio"!==v&&"option"!==v?(c=g+T.templates.input+b,j.nestedAnswer+=' class="'+j.fieldClass+'"'):"option"===v?(c=g+T.templates.select+b,j.optionsHtml=M(e.answers)):c=g+T.templates.input+b}0<A.length&&d===i-1&&A.pop()}for(var C in""!==j.optionsHtml&&(c=c.replace(/{{selectTagCode}}/g,T.templates.selectTag)),""!==w?(w=(w=(w=(w=(w=(w=(w=w.replace(/{{answerCode}}/g,"")).replace(/{{answerType}}/g,"text")).replace(/{{fieldClass}}/g,j.fieldClass)).replace(/{{answerIdValue}}/g,"")).replace(/{{attrRequired}}/g,"")).replace(/{{addMoreName}}/g,"-more")).replace(/{{attrRequiredFrom}}/g,'data-required-from="#'+j.answerCode+'"'),c=c.replace(/{{relatedAnswerField}}/g,w)):c=(c=c.replace(/{{addMoreName}}/g,"")).replace(/{{attrRequiredFrom}}/g,""),j){var k=new RegExp("{{"+C+"}}","g");c=c.replace(k,j[C])}l+=c,"option"===v&&(d+=e.answers.length)}}return l},p=function(){if(y&&localStorage.getObject(b)){var e=localStorage.getObject(b),t=e.length;g=e;for(var r=0;r<t;r++){var a=e[r],n=F.find('[name="'+a.field+'"]'),s=1<n.length?n.first():n,i=s.is('[type="radio"], [type="checkbox"]'),o=i?F.find('[name="'+a.field+'"][value="'+a.value+'"]'):s;i?o.prop("checked",!0):o.val(a.value)}}else!y&&T.useLocalStorage&&console.warn("LOCAL STORAGE IS NOT SUPPORTED!")},m=function(e){var t=function(e){return void 0!==e?e:""};0<r-length&&t(e.image)&&r.attr("src",e.image),n.text(t(e.title)),s.text(t(e.description))};return{addLanguage:function(e,t){var r=e.toLowerCase();l[r]=_.extend(!0,l[r]||{},t),T.lang=r},setup:function(e){if(void 0!==e&&_.isPlainObject(e)){if("string"!=typeof e.url)throw new Error("url IS MANDATORY IN SURVEY.setup() TO INITIALIZE THE SURVEY");if("string"==typeof e.lang){var t=e.lang.toLowerCase();l[t]&&(T.lang=t)}T=_.extend(!0,T,l[T.lang]),-1!==(T=_.extend(!0,T,e)).templates.input.indexOf("{{inputTagCode}}")&&(T.templates.input=T.templates.input.replace(/{{inputTagCode}}/g,T.templates.inputTag)),T.templates.labelTag=T.templates.labelTag.replace(/{{labelClass}}/g,T.cssClasses.label),function(){var e={fieldOptions:["onPastePrevented","onValidation"],formOptions:["beforeSend","onSubmitComplete","onSubmitError","onSubmitSuccess"]};for(var t in e)e[t].forEach(function(e){fnInSettings=T[t][e],fnList=[],"function"==typeof fnInSettings?fnList.push(fnInSettings):Array.isArray(fnInSettings)&&fnList.concat(fnInSettings),void 0!==d[t]&&"function"==typeof d[t][e]&&fnList.unshift(d[t][e]),T[t][e]=fnList})}(),T.useLocalStorage||(y=!1),r=e.url,i.before(T.loadingBox),_.ajax({cache:!1,dataType:"json",method:"POST",url:r}).always(function(){h.find("[data-surveyjs-loading]").remove(),"function"==typeof T.onInitComplete&&T.onInitComplete(h)}).done(function(e){if("string"==typeof(e=e))try{e=JSON.parse(e)}catch(e){throw new Error('String returned from ajax call to "'+r+'" is not a valid JSON string')}_.isPlainObject(e)&&("success"===e.status.toLowerCase()&&c((o=e).survey),"function"==typeof T.onInitSuccess&&T.onInitSuccess(e,h))}).fail(function(e,t,r){"function"==typeof T.onInitError&&T.onInitError(e,t,r,h)})}var r}}}(jQuery);
//# sourceMappingURL=surveyJS.min.js.map